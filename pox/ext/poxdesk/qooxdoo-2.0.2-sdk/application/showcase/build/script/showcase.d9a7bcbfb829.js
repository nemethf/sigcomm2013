qx.$$packageData['128']={"locales":{},"resources":{"qx/icon/Tango/16/apps/office-calendar.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/media-audio.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-warning.png":[16,16,"png","qx"]},"translations":{"C":{},"de":{"%1 of %2 rows":"%1 von %2 Zeilen","%1 rows":"%1 Zeilen","Reset column widths":"Spaltenbreite zurücksetzen","one of one row":"Eine von einer Zeile","one row":"Eine Zeile"},"de_AT":{},"de_DE":{},"en":{},"en_GB":{},"en_US":{},"es":{"%1 of %2 rows":"%1 de %2 filas","%1 rows":"%1 filas","Reset column widths":"Reestablecer anchos de columnas","one of one row":"una de una fila","one row":"una fila"},"es_ES":{},"es_MX":{},"ro":{"%1 of %2 rows":"%1 din %2 rânduri","%1 rows":"%1 rânduri","Reset column widths":"Resetează lățimea coloanei","one of one row":"unul din un rând","one row":"un rând"},"ro_RO":{},"sv":{"%1 of %2 rows":"%1 av %2 rader","%1 rows":"%1 rader","Reset column widths":"Återställ kolumnbredder","one of one row":"en av en rad","one row":"En rad"},"sv_SE":{}}};
qx.Part.$$notifyLoad("128", function() {
(function(){var a="qx.ui.table.IHeaderRenderer";qx.Interface.define(a,{members:{createHeaderCell:function(b){return true;},updateHeaderCell:function(c,d){return true;}}});})();(function(){var b="qx.ui.table.headerrenderer.Default",a="String";qx.Class.define(b,{extend:qx.core.Object,implement:qx.ui.table.IHeaderRenderer,statics:{STATE_SORTED:"sorted",STATE_SORTED_ASCENDING:"sortedAscending"},properties:{toolTip:{check:a,init:null,nullable:true}},members:{createHeaderCell:function(c){var d=new qx.ui.table.headerrenderer.HeaderCell();this.updateHeaderCell(c,d);return d;},updateHeaderCell:function(e,f){var g=qx.ui.table.headerrenderer.Default;if(e.name&&e.name.translate){f.setLabel(e.name.translate());}else {f.setLabel(e.name);};var h=f.getToolTip();if(this.getToolTip()!=null){if(h==null){h=new qx.ui.tooltip.ToolTip(this.getToolTip());f.setToolTip(h);qx.util.DisposeUtil.disposeTriggeredBy(h,f);}else {h.setLabel(this.getToolTip());};};e.sorted?f.addState(g.STATE_SORTED):f.removeState(g.STATE_SORTED);e.sortedAscending?f.addState(g.STATE_SORTED_ASCENDING):f.removeState(g.STATE_SORTED_ASCENDING);}}});})();(function(){var a="qx.ui.table.ICellRenderer";qx.Interface.define(a,{members:{createDataCellHtml:function(b,c){return true;}}});})();(function(){var j="qooxdoo-table-cell",i="content",h='</div>',g="nowrap",f="default",e="}",d="width:",c=".qooxdoo-table-cell-right { text-align:right } ",b="css.boxsizing",a="css.boxmodel",I="0px 6px",H='<div class="',G="0px",F="height:",E="1px solid ",D=".qooxdoo-table-cell-bold { font-weight:bold } ",C="String",B="} ",A='>',z='" ',q="ellipsis",r="content-box",o='left:',p="qx.ui.table.cellrenderer.Abstract",m='" style="',n="abstract",k="none",l="hidden",s="table-column-line",t='px;',v=".qooxdoo-table-cell-italic { font-style:italic} ",u="absolute",x="px;",w=".qooxdoo-table-cell {",y="";qx.Class.define(p,{type:n,implement:qx.ui.table.ICellRenderer,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);var J=qx.ui.table.cellrenderer.Abstract;if(!J.__nd){var L=qx.theme.manager.Color.getInstance();J.__nd=this.self(arguments);var K=w+qx.bom.element.Style.compile({position:u,top:G,overflow:l,whiteSpace:g,borderRight:E+L.resolve(s),padding:I,cursor:f,textOverflow:q,userSelect:k})+B+c+v+D;if(qx.core.Environment.get(b)){K+=w+qx.bom.element.BoxSizing.compile(r)+e;};J.__nd.stylesheet=qx.bom.Stylesheet.createElement(K);};},properties:{defaultCellStyle:{init:null,check:C,nullable:true}},members:{_insetX:6+6+1,_insetY:0,_getCellClass:function(M){return j;},_getCellStyle:function(N){return N.style||y;},_getCellAttributes:function(O){return y;},_getContentHtml:function(P){return P.value||y;},_getCellSizeStyle:function(Q,R,S,T){var U=y;if(qx.core.Environment.get(a)==i){Q-=S;R-=T;};U+=d+Math.max(Q,0)+x;U+=F+Math.max(R,0)+x;return U;},createDataCellHtml:function(V,W){W.push(H,this._getCellClass(V),m,o,V.styleLeft,t,this._getCellSizeStyle(V.styleWidth,V.styleHeight,this._insetX,this._insetY),this._getCellStyle(V),z,this._getCellAttributes(V),A+this._getContentHtml(V),h);}}});})();(function(){var h="Boolean",g="qx.ui.table.cellrenderer.Default",f=" qooxdoo-table-cell-bold",e=" qooxdoo-table-cell-right",d=" qooxdoo-table-cell-italic",c="string",b="",a="number";qx.Class.define(g,{extend:qx.ui.table.cellrenderer.Abstract,statics:{STYLEFLAG_ALIGN_RIGHT:1,STYLEFLAG_BOLD:2,STYLEFLAG_ITALIC:4,_numberFormat:null},properties:{useAutoAlign:{check:h,init:true}},members:{_getStyleFlags:function(i){if(this.getUseAutoAlign()){if(typeof i.value==a){return qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT;};};return 0;},_getCellClass:function(j){var k=qx.ui.table.cellrenderer.Abstract.prototype._getCellClass.call(this,j);if(!k){return b;};var l=this._getStyleFlags(j);if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT){k+=e;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_BOLD){k+=f;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ITALIC){k+=d;};return k;},_getContentHtml:function(m){return qx.bom.String.escape(this._formatValue(m));},_formatValue:function(n){var p=n.value;var o;if(p==null){return b;};if(typeof p==c){return p;}else if(typeof p==a){if(!qx.ui.table.cellrenderer.Default._numberFormat){qx.ui.table.cellrenderer.Default._numberFormat=new qx.util.format.NumberFormat();qx.ui.table.cellrenderer.Default._numberFormat.setMaximumFractionDigits(2);};o=qx.ui.table.cellrenderer.Default._numberFormat.format(p);}else if(p instanceof Date){o=qx.util.format.DateFormat.getDateInstance().format(p);}else {o=p.toString();};;return o;}}});})();(function(){var a="qx.ui.table.ICellEditorFactory";qx.Interface.define(a,{members:{createCellEditor:function(b){return true;},getCellEditorValue:function(c){return true;}}});})();(function(){var g="Function",f="abstract",e="number",d="appear",c="Abstract method call!",b="qx.ui.table.celleditor.AbstractField",a="";qx.Class.define(b,{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,type:f,properties:{validationFunction:{check:g,nullable:true,init:null}},members:{_createEditor:function(){throw new Error(c);},createCellEditor:function(h){var i=this._createEditor();i.originalValue=h.value;if(h.value===null||h.value===undefined){h.value=a;};i.setValue(a+h.value);i.addListener(d,function(){i.selectAllText();});return i;},getCellEditorValue:function(j){var l=j.getValue();var k=this.getValidationFunction();if(k){l=k(l,j.originalValue);};if(typeof j.originalValue==e){l=parseFloat(l);};return l;}}});})();(function(){var c="number",b="qx.ui.table.celleditor.TextField",a="table-editor-textfield";qx.Class.define(b,{extend:qx.ui.table.celleditor.AbstractField,members:{getCellEditorValue:function(d){var f=d.getValue();var e=this.getValidationFunction();if(e){f=e(f,d.originalValue);};if(typeof d.originalValue==c){if(f!=null){f=parseFloat(f);};};return f;},_createEditor:function(){var g=new qx.ui.form.TextField();g.setAppearance(a);return g;}}});})();(function(){var o="widthChanged",n="qx.ui.table.columnmodel.Basic",m="__nI",l=". The column is not added to this TablePaneModel.",k="__nJ",j="Showing column failed: ",h=", got ",g="setColumnsOrder: Invalid number of column positions given, expected ",f="headerCellRendererChanged",e="__nH",b="visibilityChanged",d="orderChanged",c="visibilityChangedPre",a="qx.event.type.Data";qx.Class.define(n,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__nD=[];this.__nE=[];},events:{"widthChanged":a,"visibilityChangedPre":a,"visibilityChanged":a,"orderChanged":a,"headerCellRendererChanged":a},statics:{DEFAULT_WIDTH:100,DEFAULT_HEADER_RENDERER:qx.ui.table.headerrenderer.Default,DEFAULT_DATA_RENDERER:qx.ui.table.cellrenderer.Default,DEFAULT_EDITOR_FACTORY:qx.ui.table.celleditor.TextField},members:{__mV:null,__nF:null,__nE:null,__nD:null,__nG:null,__nH:null,__nI:null,__nJ:null,init:function(p,q){{};this.__nG=[];var u=qx.ui.table.columnmodel.Basic.DEFAULT_WIDTH;var v=this.__nH||(this.__nH=new qx.ui.table.columnmodel.Basic.DEFAULT_HEADER_RENDERER());var s=this.__nI||(this.__nI=new qx.ui.table.columnmodel.Basic.DEFAULT_DATA_RENDERER());var r=this.__nJ||(this.__nJ=new qx.ui.table.columnmodel.Basic.DEFAULT_EDITOR_FACTORY());this.__nD=[];this.__nE=[];var y;if(q){y=q.getInitiallyHiddenColumns();};y=y||[];for(var z=0;z<p;z++){this.__nG[z]={width:u,headerRenderer:v,dataRenderer:s,editorFactory:r};this.__nD[z]=z;this.__nE[z]=z;};this.__nF=null;this.__mV=true;for(var w=0;w<y.length;w++){this.setColumnVisible(y[w],false);};this.__mV=false;for(z=0;z<p;z++){var t={col:z,visible:this.isColumnVisible(z)};this.fireDataEvent(c,t);this.fireDataEvent(b,t);};},getVisibleColumns:function(){return this.__nE!=null?this.__nE:[];},setColumnWidth:function(A,B,C){{};var E=this.__nG[A].width;if(E!=B){this.__nG[A].width=B;var D={col:A,newWidth:B,oldWidth:E,isMouseAction:C||false};this.fireDataEvent(o,D);};},getColumnWidth:function(F){{};return this.__nG[F].width;},setHeaderCellRenderer:function(G,H){{};var I=this.__nG[G].headerRenderer;if(I!==this.__nH){I.dispose();};this.__nG[G].headerRenderer=H;this.fireDataEvent(f,{col:G});},getHeaderCellRenderer:function(J){{};return this.__nG[J].headerRenderer;},setDataCellRenderer:function(K,L){{};this.__nG[K].dataRenderer=L;var M=this.__nG[K].dataRenderer;if(M!==this.__nI){return M;};return null;},getDataCellRenderer:function(N){{};return this.__nG[N].dataRenderer;},setCellEditorFactory:function(O,P){{};var Q=this.__nG[O].editorFactory;if(Q!==this.__nJ){Q.dispose();};this.__nG[O].editorFactory=P;},getCellEditorFactory:function(R){{};return this.__nG[R].editorFactory;},_getColToXPosMap:function(){if(this.__nF==null){this.__nF={};for(var U=0;U<this.__nD.length;U++){var T=this.__nD[U];this.__nF[T]={overX:U};};for(var S=0;S<this.__nE.length;S++){var T=this.__nE[S];this.__nF[T].visX=S;};};return this.__nF;},getVisibleColumnCount:function(){return this.__nE!=null?this.__nE.length:0;},getVisibleColumnAtX:function(V){{};return this.__nE[V];},getVisibleX:function(W){{};return this._getColToXPosMap()[W].visX;},getOverallColumnCount:function(){return this.__nD.length;},getOverallColumnAtX:function(X){{};return this.__nD[X];},getOverallX:function(Y){{};return this._getColToXPosMap()[Y].overX;},isColumnVisible:function(ba){{};return (this._getColToXPosMap()[ba].visX!=null);},setColumnVisible:function(bb,bc){{};if(bc!=this.isColumnVisible(bb)){if(bc){var bi=this._getColToXPosMap();var bf=bi[bb].overX;if(bf==null){throw new Error(j+bb+l);};var bg;for(var x=bf+1;x<this.__nD.length;x++){var bh=this.__nD[x];var bd=bi[bh].visX;if(bd!=null){bg=bd;break;};};if(bg==null){bg=this.__nE.length;};this.__nE.splice(bg,0,bb);}else {var be=this.getVisibleX(bb);this.__nE.splice(be,1);};this.__nF=null;if(!this.__mV){var bj={col:bb,visible:bc};this.fireDataEvent(c,bj);this.fireDataEvent(b,bj);};};},moveColumn:function(bk,bl){{};this.__mV=true;var bo=this.__nD[bk];var bm=this.isColumnVisible(bo);if(bm){this.setColumnVisible(bo,false);};this.__nD.splice(bk,1);this.__nD.splice(bl,0,bo);this.__nF=null;if(bm){this.setColumnVisible(bo,true);};this.__mV=false;var bn={col:bo,fromOverXPos:bk,toOverXPos:bl};this.fireDataEvent(d,bn);},setColumnsOrder:function(bp){{};if(bp.length==this.__nD.length){this.__mV=true;var bs=new Array(bp.length);for(var bq=0;bq<this.__nD.length;bq++){var br=this.isColumnVisible(bq);bs[bq]=br;if(br){this.setColumnVisible(bq,false);};};this.__nD=qx.lang.Array.clone(bp);this.__nF=null;for(var bq=0;bq<this.__nD.length;bq++){if(bs[bq]){this.setColumnVisible(bq,true);};};this.__mV=false;this.fireDataEvent(d);}else {throw new Error(g+this.__nD.length+h+bp.length);};}},destruct:function(){for(var i=0;i<this.__nG.length;i++){this.__nG[i].headerRenderer.dispose();this.__nG[i].dataRenderer.dispose();this.__nG[i].editorFactory.dispose();};this.__nD=this.__nE=this.__nG=this.__nF=null;this._disposeObjects(e,m,k);}});})();(function(){var n="columnVisibilityMenuCreateEnd",m="tableWidthChanged",l="verticalScrollBarChanged",k="qx.ui.table.columnmodel.resizebehavior.Abstract",j="qx.ui.table.columnmodel.Resize",i="_applyBehavior",h="separator",g="visibilityChanged",f="Reset column widths",e="changeBehavior",b="user-button",d="widthChanged",c="execute",a="appear";qx.Class.define(j,{extend:qx.ui.table.columnmodel.Basic,include:qx.locale.MTranslation,construct:function(){qx.ui.table.columnmodel.Basic.call(this);this.__nK=false;this.__nL=false;},properties:{behavior:{check:k,init:null,nullable:true,apply:i,event:e}},members:{__nL:null,__nK:null,__mw:null,_applyBehavior:function(p,q){if(q!=null){q.dispose();q=null;};p._setNumColumns(this.getOverallColumnCount());p.setTableColumnModel(this);},init:function(r,s){qx.ui.table.columnmodel.Basic.prototype.init.call(this,r,s);if(this.__mw==null){this.__mw=s;s.addListener(a,this._onappear,this);s.addListener(m,this._onTableWidthChanged,this);s.addListener(l,this._onverticalscrollbarchanged,this);s.addListener(n,this._addResetColumnWidthButton,this);this.addListener(d,this._oncolumnwidthchanged,this);this.addListener(g,this._onvisibilitychanged,this);};if(this.getBehavior()==null){this.setBehavior(new qx.ui.table.columnmodel.resizebehavior.Default());};this.getBehavior()._setNumColumns(r);},getTable:function(){return this.__mw;},_addResetColumnWidthButton:function(event){var v=event.getData();var u=v.columnButton;var t=v.menu;var o;o=u.factory(h);t.add(o);o=u.factory(b,{text:this.tr(f)});t.add(o);o.addListener(c,this._onappear,this);},_onappear:function(event){if(this.__nK){return;};this.__nK=true;{};this.getBehavior().onAppear(event,event.getType()!==a);this.__mw._updateScrollerWidths();this.__mw._updateScrollBarVisibility();this.__nK=false;this.__nL=true;},_onTableWidthChanged:function(event){if(this.__nK||!this.__nL){return;};this.__nK=true;{};this.getBehavior().onTableWidthChanged(event);this.__nK=false;},_onverticalscrollbarchanged:function(event){if(this.__nK||!this.__nL){return;};this.__nK=true;{};this.getBehavior().onVerticalScrollBarChanged(event);qx.event.Timer.once(function(){if(this.__mw&&!this.__mw.isDisposed()){this.__mw._updateScrollerWidths();this.__mw._updateScrollBarVisibility();};},this,0);this.__nK=false;},_oncolumnwidthchanged:function(event){if(this.__nK||!this.__nL){return;};this.__nK=true;{};this.getBehavior().onColumnWidthChanged(event);this.__nK=false;},_onvisibilitychanged:function(event){if(this.__nK||!this.__nL){return;};this.__nK=true;{};this.getBehavior().onVisibilityChanged(event);this.__nK=false;}},destruct:function(){this.__mw=null;}});})();(function(){var l="icon/16/mimetypes/media-audio.png",k="showcase.page.table.Content.saveResult",h="Chart Pos.",g="GET",f="this",e="Failed to load the data",d="0",c="2*",b="1*",a="env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=",B="icon/16/apps/office-calendar.png",A="load",z="Artist",y="select * from music.track.popular",x="Popular Music Tracks",w=", ",v="http://query.yahooapis.com/v1/public/yql?q=",u="icon/16/status/dialog-warning.png",t="showcase.page.table.Content",s="&format=json&diagnostics=false&",q="Year",r="loading ...",o="Title",p="Explicit",m="---",n="";qx.Class.define(t,{extend:showcase.page.AbstractDesktopContent,construct:function(C){showcase.page.AbstractDesktopContent.call(this,C);},statics:{saveResult:function(D){this._result=D;}},members:{_addWindowContent:function(E){var J=[[0,r,r,0,false]];var H=this._tableModel=new qx.ui.table.model.Simple();H.setColumns([h,o,z,q,p]);H.setData(J);H.setColumnEditable(1,true);H.setColumnEditable(2,true);H.setColumnSortable(3,true);var G={tableColumnModel:function(L){return new qx.ui.table.columnmodel.Resize(L);}};var K=new qx.ui.table.Table(H,G);K.set({width:540,height:400,decorator:null,headerCellHeight:null,showCellFocusIndicator:false});K.getSelectionModel().setSelectionMode(qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION);var I=K.getTableColumnModel();I.setDataCellRenderer(0,new qx.ui.table.cellrenderer.Number());I.setDataCellRenderer(3,new qx.ui.table.cellrenderer.Number());I.setDataCellRenderer(4,new qx.ui.table.cellrenderer.Boolean());I.setHeaderCellRenderer(1,new qx.ui.table.headerrenderer.Icon(l,o));I.setHeaderCellRenderer(3,new qx.ui.table.headerrenderer.Icon(B,q));I.setHeaderCellRenderer(4,new qx.ui.table.headerrenderer.Icon(u,p));var F=I.getBehavior();F.set(1,{width:c,minWidth:60});F.set(2,{width:b,minWidth:60});F.setWidth(0,80);F.setWidth(3,70);F.setWidth(4,85);E.setCaption(x);E.setLayout(new qx.ui.layout.Grow());E.add(K);this._loadData(H);},_loadData:function(M){var O=y;var N=v+encodeURIComponent(O)+s+a+k;var P=new qx.bom.request.Script();P.on(A,function(){var S=showcase.page.table.Content._result.query.results;var R=[];if(S==null){var Q=[];R.push([0,e,m,0,false]);}else {var Q=S.Track;};for(var i=0;i<Q.length;i++){var U=[];U.push(parseInt(Q[i].ItemInfo.ChartPosition[f]));U.push(Q[i].title||n);if(Q[i].Artist instanceof Array){var T=n;for(var j=0;j<Q[i].Artist.length;j++){if(j!=0){T+=w;};T+=Q[i].Artist[j].name;};U.push(T);}else {if(Q[i].Artist){U.push(Q[i].Artist.name||n);}else {U.push(m);};};U.push(parseInt(Q[i].releaseYear));U.push(Q[i].explicit!==d);R.push(U);};M.setData(R);});P.open(g,N);P.send();}}});})();(function(){var i="_applySortIcon",h="_applyIcon",g="table-header-cell",f="qx.ui.table.headerrenderer.HeaderCell",e="_applyLabel",d="icon",c="label",b="String",a="sort-icon";qx.Class.define(f,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this);var j=new qx.ui.layout.Grid();j.setRowFlex(0,1);j.setColumnFlex(1,1);j.setColumnFlex(2,1);this.setLayout(j);},properties:{appearance:{refine:true,init:g},label:{check:b,init:null,nullable:true,apply:e},sortIcon:{check:b,init:null,nullable:true,apply:i,themeable:true},icon:{check:b,init:null,nullable:true,apply:h}},members:{_applyLabel:function(k,l){if(k){this._showChildControl(c).setValue(k);}else {this._excludeChildControl(c);};},_applySortIcon:function(m,n){if(m){this._showChildControl(a).setSource(m);}else {this._excludeChildControl(a);};},_applyIcon:function(o,p){if(o){this._showChildControl(d).setSource(o);}else {this._excludeChildControl(d);};},_createChildControlImpl:function(q,r){var s;switch(q){case c:s=new qx.ui.basic.Label(this.getLabel()).set({anonymous:true,allowShrinkX:true});this._add(s,{row:0,column:1});break;case a:s=new qx.ui.basic.Image(this.getSortIcon());s.setAnonymous(true);this._add(s,{row:0,column:2});break;case d:s=new qx.ui.basic.Image(this.getIcon()).set({anonymous:true,allowShrinkX:true});this._add(s,{row:0,column:0});break;};return s||qx.ui.container.Composite.prototype._createChildControlImpl.call(this,q);}}});})();(function(){var j="css.inlineblock",i="repeat",h="scale",g="_identifyImage is abstract",f="string",e="static",d="'",c="qx.ui.table.cellrenderer.AbstractImage",b="}",a="  text-align:center;",x="scale-x",w="repeat-y",v=".qooxdoo-table-cell-icon {",u="",t="<div></div>",s="top",r="abstract",q=" qooxdoo-table-cell-icon",p="repeat-x",o="  padding-top:1px;",m="title='",n="scale-y",k="px",l="no-repeat";qx.Class.define(c,{extend:qx.ui.table.cellrenderer.Abstract,type:r,construct:function(){qx.ui.table.cellrenderer.Abstract.call(this);var y=this.self(arguments);if(!y.stylesheet){y.stylesheet=qx.bom.Stylesheet.createElement(v+a+o+b);};},properties:{repeat:{check:function(z){var A=[h,x,n,i,p,w,l];return qx.lang.Array.contains(A,z);},init:l}},members:{__qn:16,__qo:16,__qp:null,_insetY:2,_identifyImage:function(B){throw new Error(g);},_getImageInfos:function(C){var D=this._identifyImage(C);if(D==null||typeof D==f){D={url:D,tooltip:null};};if(!D.imageWidth||!D.imageHeight){var E=this.__qq(D.url);D.imageWidth=E.width;D.imageHeight=E.height;};D.width=D.imageWidth;D.height=D.imageHeight;return D;},__qq:function(F){var I=qx.util.ResourceManager.getInstance();var H=qx.io.ImageLoader;var G,J;if(I.has(F)){G=I.getImageWidth(F);J=I.getImageHeight(F);}else if(H.isLoaded(F)){G=H.getWidth(F);J=H.getHeight(F);}else {G=this.__qn;J=this.__qo;};return {width:G,height:J};},createDataCellHtml:function(K,L){this.__qp=this._getImageInfos(K);return qx.ui.table.cellrenderer.Abstract.prototype.createDataCellHtml.call(this,K,L);},_getCellClass:function(M){return qx.ui.table.cellrenderer.Abstract.prototype._getCellClass.call(this)+q;},_getContentHtml:function(N){var content=t;if(this.__qp.url){content=qx.bom.element.Decoration.create(this.__qp.url,this.getRepeat(),{width:this.__qp.width+k,height:this.__qp.height+k,display:qx.core.Environment.get(j),verticalAlign:s,position:e});};return content;},_getCellAttributes:function(O){var P=this.__qp.tooltip;if(P){return m+P+d;}else {return u;};}},destruct:function(){this.__qp=null;}});})();(function(){var b="qx.ui.table.pane.CellEvent",a="Integer";qx.Class.define(b,{extend:qx.event.type.Mouse,properties:{row:{check:a,nullable:true},column:{check:a,nullable:true}},members:{init:function(c,d,e,f){d.clone(this);this.setBubbles(false);if(e!=null){this.setRow(e);}else {this.setRow(c._getRowForPagePos(this.getDocumentLeft(),this.getDocumentTop()));};if(f!=null){this.setColumn(f);}else {this.setColumn(c._getColumnForPageX(this.getDocumentLeft()));};},clone:function(g){var h=qx.event.type.Mouse.prototype.clone.call(this,g);h.set({row:this.getRow(),column:this.getColumn()});return h;}}});})();(function(){var h="Number",g="qx.event.type.Event",f="_applyFirstColumnX",e="Integer",d="qx.ui.table.pane.Model",c="_applyMaxColumnCount",b="headerCellRendererChanged",a="visibilityChangedPre";qx.Class.define(d,{extend:qx.core.Object,construct:function(i){qx.core.Object.call(this);this.setTableColumnModel(i);},events:{"modelChanged":g},statics:{EVENT_TYPE_MODEL_CHANGED:"modelChanged"},properties:{firstColumnX:{check:e,init:0,apply:f},maxColumnCount:{check:h,init:-1,apply:c}},members:{__ql:null,__qm:null,_applyFirstColumnX:function(j,k){this.__ql=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_applyMaxColumnCount:function(l,m){this.__ql=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},setTableColumnModel:function(n){if(this.__qm){this.__qm.removeListener(a,this._onColVisibilityChanged,this);this.__qm.removeListener(b,this._onColVisibilityChanged,this);};this.__qm=n;this.__qm.addListener(a,this._onColVisibilityChanged,this);this.__qm.addListener(b,this._onHeaderCellRendererChanged,this);this.__ql=null;},_onColVisibilityChanged:function(o){this.__ql=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_onHeaderCellRendererChanged:function(p){this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},getColumnCount:function(){if(this.__ql==null){var q=this.getFirstColumnX();var s=this.getMaxColumnCount();var r=this.__qm.getVisibleColumnCount();if(s==-1||(q+s)>r){this.__ql=r-q;}else {this.__ql=s;};};return this.__ql;},getColumnAtX:function(t){var u=this.getFirstColumnX();return this.__qm.getVisibleColumnAtX(u+t);},getX:function(v){var w=this.getFirstColumnX();var y=this.getMaxColumnCount();var x=this.__qm.getVisibleX(v)-w;if(x>=0&&(y==-1||x<y)){return x;}else {return -1;};},getColumnLeft:function(z){var C=0;var B=this.getColumnCount();for(var x=0;x<B;x++){var A=this.getColumnAtX(x);if(A==z){return C;};C+=this.__qm.getColumnWidth(A);};return -1;},getTotalWidth:function(){var D=0;var E=this.getColumnCount();for(var x=0;x<E;x++){var F=this.getColumnAtX(x);D+=this.__qm.getColumnWidth(F);};return D;}},destruct:function(){if(this.__qm){this.__qm.removeListener(a,this._onColVisibilityChanged,this);this.__qm.removeListener(b,this._onColVisibilityChanged,this);};this.__qm=null;}});})();(function(){var v="regex cannot be null!",u="font-weight",t="Condition not recognized or value1/value2 is null!",s="Condition not recognized or value is null!",r="text-align",q=";",p='g',o=":",n="qx.ui.table.cellrenderer.Conditional",m="color",e="font-style",l="==",h=">",c="between",b="<",g="regex",f="!between",j=">=",a="!=",k="<=",d="";qx.Class.define(n,{extend:qx.ui.table.cellrenderer.Default,construct:function(w,x,y,z){qx.ui.table.cellrenderer.Default.call(this);this.numericAllowed=[l,a,h,b,j,k];this.betweenAllowed=[c,f];this.conditions=[];this.__yY=w||d;this.__za=x||d;this.__zb=y||d;this.__zc=z||d;},members:{__yY:null,__za:null,__zb:null,__zc:null,__zd:function(A,B){if(A[1]!=null){B[r]=A[1];};if(A[2]!=null){B[m]=A[2];};if(A[3]!=null){B[e]=A[3];};if(A[4]!=null){B[u]=A[4];};},addNumericCondition:function(C,D,E,F,G,H,I){var J=null;if(qx.lang.Array.contains(this.numericAllowed,C)){if(D!=null){J=[C,E,F,G,H,D,I];};};if(J!=null){this.conditions.push(J);}else {throw new Error(s);};},addBetweenCondition:function(K,L,M,N,O,P,Q,R){if(qx.lang.Array.contains(this.betweenAllowed,K)){if(L!=null&&M!=null){var S=[K,N,O,P,Q,L,M,R];};};if(S!=null){this.conditions.push(S);}else {throw new Error(t);};},addRegex:function(T,U,V,W,X,Y){if(T!=null){var ba=[g,U,V,W,X,T,Y];};if(ba!=null){this.conditions.push(ba);}else {throw new Error(v);};},_getCellStyle:function(bb){if(!this.conditions.length){return bb.style||d;};var bg=bb.table.getTableModel();var i;var bi;var bc;var be={"text-align":this.__yY,"color":this.__za,"font-style":this.__zb,"font-weight":this.__zc};for(i in this.conditions){bi=false;if(qx.lang.Array.contains(this.numericAllowed,this.conditions[i][0])){if(this.conditions[i][6]==null){bc=bb.value;}else {bc=bg.getValueById(this.conditions[i][6],bb.row);};switch(this.conditions[i][0]){case l:if(bc==this.conditions[i][5]){bi=true;};break;case a:if(bc!=this.conditions[i][5]){bi=true;};break;case h:if(bc>this.conditions[i][5]){bi=true;};break;case b:if(bc<this.conditions[i][5]){bi=true;};break;case j:if(bc>=this.conditions[i][5]){bi=true;};break;case k:if(bc<=this.conditions[i][5]){bi=true;};break;};}else if(qx.lang.Array.contains(this.betweenAllowed,this.conditions[i][0])){if(this.conditions[i][7]==null){bc=bb.value;}else {bc=bg.getValueById(this.conditions[i][7],bb.row);};switch(this.conditions[i][0]){case c:if(bc>=this.conditions[i][5]&&bc<=this.conditions[i][6]){bi=true;};break;case f:if(bc<this.conditions[i][5]||bc>this.conditions[i][6]){bi=true;};break;};}else if(this.conditions[i][0]==g){if(this.conditions[i][6]==null){bc=bb.value;}else {bc=bg.getValueById(this.conditions[i][6],bb.row);};var bd=new RegExp(this.conditions[i][5],p);bi=bd.test(bc);};;if(bi==true){this.__zd(this.conditions[i],be);};};var bh=[];for(var bf in be){if(be[bf]){bh.push(bf,o,be[bf],q);};};return bh.join(d);}},destruct:function(){this.numericAllowed=this.betweenAllowed=this.conditions=null;}});})();(function(){var e="qooxdoo-table-cell qooxdoo-table-cell-right",d="0",c="qx.util.format.NumberFormat",b="qx.ui.table.cellrenderer.Number",a="";qx.Class.define(b,{extend:qx.ui.table.cellrenderer.Conditional,properties:{numberFormat:{check:c,init:null,nullable:true}},members:{_getContentHtml:function(f){var g=this.getNumberFormat();if(g){if(f.value||f.value==0){return g.format(f.value);}else {return a;};}else {return f.value==0?d:(f.value||a);};},_getCellClass:function(h){return e;}}});})();(function(){var a="qx.ui.table.IRowRenderer";qx.Interface.define(a,{members:{updateDataRowElement:function(b,c){},getRowHeightStyle:function(d){},createRowStyle:function(e){},getRowClass:function(f){}}});})();(function(){var g="Escape",f="keypress",d="Enter",c="excluded",b="qx.ui.table.pane.FocusIndicator",a="Integer";qx.Class.define(b,{extend:qx.ui.container.Composite,construct:function(h){qx.ui.container.Composite.call(this);this.__pA=h;this.setKeepActive(true);this.addListener(f,this._onKeyPress,this);},properties:{visibility:{refine:true,init:c},row:{check:a,nullable:true},column:{check:a,nullable:true}},members:{__pA:null,_onKeyPress:function(e){var i=e.getKeyIdentifier();if(i!==g&&i!==d){e.stopPropagation();};},moveToCell:function(j,k){if(!this.__pA.getShowCellFocusIndicator()&&!this.__pA.getTable().getTableModel().isColumnEditable(j)){this.exclude();return;}else {this.show();};if(j==null){this.hide();this.setRow(null);this.setColumn(null);}else {var l=this.__pA.getTablePaneModel().getX(j);if(l==-1){this.hide();this.setRow(null);this.setColumn(null);}else {var q=this.__pA.getTable();var o=q.getTableColumnModel();var p=this.__pA.getTablePaneModel();var n=this.__pA.getTablePane().getFirstVisibleRow();var m=q.getRowHeight();this.setUserBounds(p.getColumnLeft(j)-2,(k-n)*m-2,o.getColumnWidth(j)+3,m+3);this.show();this.setRow(k);this.setColumn(j);};};}},destruct:function(){this.__pA=null;}});})();(function(){var o="]",n="..",m="changeSelection",l="Try to turn off batch mode althoug it was not turned on.",k=" [",h='ie',g="browser.version",f="qx.event.type.Event",d="Ranges:",c="qx.ui.table.selection.Model",a="browser.name",b="_applySelectionMode";qx.Class.define(c,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__oF=[];this.__oG=-1;this.__oH=-1;this.hasBatchModeRefCount=0;this.__oI=false;},events:{"changeSelection":f},statics:{NO_SELECTION:1,SINGLE_SELECTION:2,SINGLE_INTERVAL_SELECTION:3,MULTIPLE_INTERVAL_SELECTION:4,MULTIPLE_INTERVAL_SELECTION_TOGGLE:5},properties:{selectionMode:{init:2,check:[1,2,3,4,5],apply:b}},members:{__oI:null,__oG:null,__oH:null,__oF:null,_applySelectionMode:function(p){this.resetSelection();},setBatchMode:function(q){if(q){this.hasBatchModeRefCount+=1;}else {if(this.hasBatchModeRefCount==0){throw new Error(l);};this.hasBatchModeRefCount-=1;if(this.__oI){this.__oI=false;this._fireChangeSelection();};};return this.hasBatchMode();},hasBatchMode:function(){return this.hasBatchModeRefCount>0;},getAnchorSelectionIndex:function(){return this.__oG;},_setAnchorSelectionIndex:function(r){this.__oG=r;},getLeadSelectionIndex:function(){return this.__oH;},_setLeadSelectionIndex:function(s){this.__oH=s;},_getSelectedRangeArr:function(){return this.__oF;},resetSelection:function(){if(!this.isSelectionEmpty()){this._resetSelection();this._fireChangeSelection();};},isSelectionEmpty:function(){return this.__oF.length==0;},getSelectedCount:function(){var u=0;for(var i=0;i<this.__oF.length;i++){var t=this.__oF[i];u+=t.maxIndex-t.minIndex+1;};return u;},isSelectedIndex:function(v){for(var i=0;i<this.__oF.length;i++){var w=this.__oF[i];if(v>=w.minIndex&&v<=w.maxIndex){return true;};};return false;},getSelectedRanges:function(){var x=[];for(var i=0;i<this.__oF.length;i++){x.push({minIndex:this.__oF[i].minIndex,maxIndex:this.__oF[i].maxIndex});};return x;},iterateSelection:function(y,z){for(var i=0;i<this.__oF.length;i++){for(var j=this.__oF[i].minIndex;j<=this.__oF[i].maxIndex;j++){y.call(z,j);};};},setSelectionInterval:function(A,B){var C=this.self(arguments);switch(this.getSelectionMode()){case C.NO_SELECTION:return;case C.SINGLE_SELECTION:if(this.isSelectedIndex(B)){return;};A=B;break;case C.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this.setBatchMode(true);try{for(var i=A;i<=B;i++){if(!this.isSelectedIndex(i)){this._addSelectionInterval(i,i);}else {this.removeSelectionInterval(i,i);};};}catch(e){if(qx.core.Environment.get(a)==h&&qx.core.Environment.get(g)<=7){this.setBatchMode(false);};throw e;}finally{this.setBatchMode(false);};this._fireChangeSelection();return;};this._resetSelection();this._addSelectionInterval(A,B);this._fireChangeSelection();},addSelectionInterval:function(D,E){var F=qx.ui.table.selection.Model;switch(this.getSelectionMode()){case F.NO_SELECTION:return;case F.MULTIPLE_INTERVAL_SELECTION:case F.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this._addSelectionInterval(D,E);this._fireChangeSelection();break;default:this.setSelectionInterval(D,E);break;};},removeSelectionInterval:function(G,H){this.__oG=G;this.__oH=H;var I=Math.min(G,H);var K=Math.max(G,H);for(var i=0;i<this.__oF.length;i++){var M=this.__oF[i];if(M.minIndex>K){break;}else if(M.maxIndex>=I){var N=(M.minIndex>=I)&&(M.minIndex<=K);var L=(M.maxIndex>=I)&&(M.maxIndex<=K);if(N&&L){this.__oF.splice(i,1);i--;}else if(N){M.minIndex=K+1;}else if(L){M.maxIndex=I-1;}else {var J={minIndex:K+1,maxIndex:M.maxIndex};this.__oF.splice(i+1,0,J);M.maxIndex=I-1;break;};;};};this._fireChangeSelection();},_resetSelection:function(){this.__oF=[];this.__oG=-1;this.__oH=-1;},_addSelectionInterval:function(O,P){this.__oG=O;this.__oH=P;var Q=Math.min(O,P);var S=Math.max(O,P);var R=0;for(;R<this.__oF.length;R++){var T=this.__oF[R];if(T.minIndex>Q){break;};};this.__oF.splice(R,0,{minIndex:Q,maxIndex:S});var U=this.__oF[0];for(var i=1;i<this.__oF.length;i++){var T=this.__oF[i];if(U.maxIndex+1>=T.minIndex){U.maxIndex=Math.max(U.maxIndex,T.maxIndex);this.__oF.splice(i,1);i--;}else {U=T;};};},_dumpRanges:function(){var V=d;for(var i=0;i<this.__oF.length;i++){var W=this.__oF[i];V+=k+W.minIndex+n+W.maxIndex+o;};this.debug(V);},_fireChangeSelection:function(){if(this.hasBatchMode()){this.__oI=true;}else {this.fireEvent(m);};}},destruct:function(){this.__oF=null;}});})();(function(){var j="table-row-background-even",i="Boolean",h="content",g="default",f="height:",e="'",d="table-row",c="table-row-background-focused",b="css.boxmodel",a=';color:',v="table-row-background-odd",u="1px solid ",t="table-row-line",s="table-row-background-selected",r="background-color:",q=';border-bottom: 1px solid ',p="table-row-selected",o="table-row-background-focused-selected",n="px;",m="qx.ui.table.rowrenderer.Default",k=";",l="";qx.Class.define(m,{extend:qx.core.Object,implement:qx.ui.table.IRowRenderer,construct:function(){qx.core.Object.call(this);this.__of=l;this.__of={};this._colors={};this._renderFont(qx.theme.manager.Font.getInstance().resolve(g));var w=qx.theme.manager.Color.getInstance();this._colors.bgcolFocusedSelected=w.resolve(o);this._colors.bgcolFocused=w.resolve(c);this._colors.bgcolSelected=w.resolve(s);this._colors.bgcolEven=w.resolve(j);this._colors.bgcolOdd=w.resolve(v);this._colors.colSelected=w.resolve(p);this._colors.colNormal=w.resolve(d);this._colors.horLine=w.resolve(t);},properties:{highlightFocusRow:{check:i,init:true}},members:{_colors:null,__og:null,__of:null,_insetY:1,_renderFont:function(x){if(x){this.__og=x.getStyles();this.__of=qx.bom.element.Style.compile(this.__og);this.__of=this.__of.replace(/"/g,e);}else {this.__of=l;this.__og=qx.bom.Font.getDefaultStyles();};},updateDataRowElement:function(y,z){var B=this.__og;var A=z.style;qx.bom.element.Style.setStyles(z,B);if(y.focusedRow&&this.getHighlightFocusRow()){A.backgroundColor=y.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused;}else {if(y.selected){A.backgroundColor=this._colors.bgcolSelected;}else {A.backgroundColor=(y.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd;};};A.color=y.selected?this._colors.colSelected:this._colors.colNormal;A.borderBottom=u+this._colors.horLine;},getRowHeightStyle:function(C){if(qx.core.Environment.get(b)==h){C-=this._insetY;};return f+C+n;},createRowStyle:function(D){var E=[];E.push(k);E.push(this.__of);E.push(r);if(D.focusedRow&&this.getHighlightFocusRow()){E.push(D.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused);}else {if(D.selected){E.push(this._colors.bgcolSelected);}else {E.push((D.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd);};};E.push(a);E.push(D.selected?this._colors.colSelected:this._colors.colNormal);E.push(q,this._colors.horLine);return E.join(l);},getRowClass:function(F){return l;},getRowAttributes:function(G){return l;}},destruct:function(){this._colors=this.__og=this.__of=null;}});})();(function(){var c="qx.event.type.Event",b="qx.ui.table.ITableModel",a="qx.event.type.Data";qx.Interface.define(b,{events:{"dataChanged":a,"metaDataChanged":c,"sorted":a},members:{getRowCount:function(){},getRowData:function(d){},getColumnCount:function(){},getColumnId:function(e){},getColumnIndexById:function(f){},getColumnName:function(g){},isColumnEditable:function(h){},isColumnSortable:function(i){},sortByColumn:function(j,k){},getSortColumnIndex:function(){},isSortAscending:function(){},prefetchRows:function(l,m){},getValue:function(n,o){},getValueById:function(p,q){},setValue:function(r,s,t){},setValueById:function(u,v,w){}}});})();(function(){var e="__oJ",d="qx.ui.table.pane.Header",c="hovered",b="first",a="last";qx.Class.define(d,{extend:qx.ui.core.Widget,construct:function(f){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this.__jI=new qx.ui.core.Blocker(this);this.__oJ=f;},members:{__oJ:null,__oR:null,__oS:null,__jI:null,getPaneScroller:function(){return this.__oJ;},getTable:function(){return this.__oJ.getTable();},getBlocker:function(){return this.__jI;},onColOrderChanged:function(){this._updateContent(true);},onPaneModelChanged:function(){this._updateContent(true);},onTableModelMetaDataChanged:function(){this._updateContent();},setColumnWidth:function(g,h,i){var j=this.getHeaderWidgetAtColumn(g);if(j!=null){j.setWidth(h);};},setMouseOverColumn:function(k){if(k!=this.__oS){if(this.__oS!=null){var l=this.getHeaderWidgetAtColumn(this.__oS);if(l!=null){l.removeState(c);};};if(k!=null){this.getHeaderWidgetAtColumn(k).addState(c);};this.__oS=k;};},getHeaderWidgetAtColumn:function(m){var n=this.getPaneScroller().getTablePaneModel().getX(m);return this._getChildren()[n];},showColumnMoveFeedback:function(o,x){var s=this.getContainerLocation();if(this.__oR==null){var y=this.getTable();var p=this.getPaneScroller().getTablePaneModel().getX(o);var r=this._getChildren()[p];var t=y.getTableModel();var v=y.getTableColumnModel();var w={xPos:p,col:o,name:t.getColumnName(o),table:y};var u=v.getHeaderCellRenderer(o);var q=u.createHeaderCell(w);var z=r.getBounds();q.setWidth(z.width);q.setHeight(z.height);q.setZIndex(1000000);q.setOpacity(0.8);q.setLayoutProperties({top:s.top});this.getApplicationRoot().add(q);this.__oR=q;};this.__oR.setLayoutProperties({left:s.left+x});this.__oR.show();},hideColumnMoveFeedback:function(){if(this.__oR!=null){this.__oR.destroy();this.__oR=null;};},isShowingColumnMoveFeedback:function(){return this.__oR!=null;},_updateContent:function(A){var K=this.getTable();var E=K.getTableModel();var H=K.getTableColumnModel();var J=this.getPaneScroller().getTablePaneModel();var M=this._getChildren();var F=J.getColumnCount();var I=E.getSortColumnIndex();if(A){this._cleanUpCells();};var B={};B.sortedAscending=E.isSortAscending();for(var x=0;x<F;x++){var D=J.getColumnAtX(x);if(D===undefined){continue;};var L=H.getColumnWidth(D);var G=H.getHeaderCellRenderer(D);B.xPos=x;B.col=D;B.name=E.getColumnName(D);B.editable=E.isColumnEditable(D);B.sorted=(D==I);B.table=K;var C=M[x];if(C==null){C=G.createHeaderCell(B);C.set({width:L});this._add(C);}else {G.updateHeaderCell(B,C);};if(x===0){C.addState(b);C.removeState(a);}else if(x===F-1){C.removeState(b);C.addState(a);}else {C.removeState(b);C.removeState(a);};};},_cleanUpCells:function(){var O=this._getChildren();for(var x=O.length-1;x>=0;x--){var N=O[x];N.destroy();};}},destruct:function(){this.__jI.dispose();this._disposeObjects(e);}});})();(function(){var k="touchmove",j="qx.ui.core.scroll.MTouchScroll",i="touchend",h="touchstart",g="Top",f="Left",d="y",c="getDocument",b="x",a="scrollbar-";qx.Mixin.define(j,{construct:function(){this.addListener(k,this._onTouchMove,this);this.addListener(h,this._onTouchStart,this);this.addListener(i,this._onTouchEnd,this,true);this.__cS={};this.__mc={};},members:{__oT:false,__oU:false,__mc:null,__cS:null,inTouchMomentum:function(){return this.__oT;},_onTouchStart:function(e){if(this.__mc){clearTimeout(this.__mc.x);clearTimeout(this.__mc.y);};this.__cS={"x":0,"y":0};if(this.__oT){this.__oU=true;this.__oT=false;};},_onTouchEnd:function(e){if(this.__oU){this.__oU=false;e.stop();};},_onTouchMove:function(e){this._onTouchMoveDirectional(b,e);this._onTouchMoveDirectional(d,e);this.__oT=true;e.stop();},_onTouchMoveDirectional:function(l,e){var m=(l==b?f:g);var o=this.getChildControl(a+l,true);var p=this._isChildControlVisible(a+l);if(p&&o){var n=null;if(this.__cS[l]==0){n=0;}else {n=-(e[c+m]()-this.__cS[l]);};this.__cS[l]=e[c+m]();o.scrollBy(n);if(this.__mc[l]){clearTimeout(this.__mc[l]);this.__mc[l]=null;};this.__mc[l]=setTimeout(qx.lang.Function.bind(function(q){this.__md(q,l);},this,n),100);};},__md:function(r,s){this.__mc[s]=null;var u=this._isChildControlVisible(a+s);if(r==0||!u){this.__oT=false;return;};if(r>0){r=Math.max(0,r-3);}else {r=Math.min(0,r+3);};this.__mc[s]=setTimeout(qx.lang.Function.bind(function(v,w){this.__md(v,w);},this,r,s),10);var t=this.getChildControl(a+s,true);t.scrollBy(r);}},destruct:function(){clearTimeout(this.__mc.x);clearTimeout(this.__mc.y);this.__mc=this.__cS=this.__oT=null;}});})();(function(){var o="__pe",n="__oV",m="mouseout",l="__pc",k="changeHorizontalScrollBarVisible",j="bottom",i="_applyScrollTimeout",h="changeScrollX",g="_applyTablePaneModel",d="Integer",bq="dblclick",bp="__pd",bo="dataEdited",bn="__oX",bm="mousewheel",bl="interval",bk="__iG",bj="qx.ui.table.pane.Scroller",bi="_applyShowCellFocusIndicator",bh="y",v="resize",w="__pa",t="vertical",u="changeScrollY",r="__oW",s="appear",p="__pb",q="table-scroller",C="beforeSort",D="__oY",M="cellDblclick",J="horizontal",U="losecapture",P="contextmenu",bd="col-resize",ba="disappear",F="_applyVerticalScrollBarVisible",bg="_applyHorizontalScrollBarVisible",bf="os.scrollBarOverlayed",be="cellContextmenu",E="close",H="changeTablePaneModel",I="x",L="qx.ui.table.pane.Model",N="changeVerticalScrollBarVisible",Q="scroll",W="focus-indicator",bc="excluded",y="scrollbar-y",z="table-scroller-focus-indicator",G="visible",T="mousemove",S="header",R="editing",Y="click",X="modelChanged",O="scrollbar-x",V="cellClick",a="pane",bb="mousedown",A="qx.event.type.Data",B="mouseup",K="qx.ui.table.pane.CellEvent",b="resize-line",c="Boolean";qx.Class.define(bj,{extend:qx.ui.core.Widget,include:qx.core.Environment.filter({"true":qx.ui.core.scroll.MScrollBarFactory,"event.touch":qx.ui.core.scroll.MTouchScroll}),construct:function(br){qx.ui.core.Widget.call(this);this.__mw=br;var bs=new qx.ui.layout.Grid();bs.setColumnFlex(0,1);bs.setRowFlex(1,1);this._setLayout(bs);this.__oV=this._showChildControl(S);this.__oW=this._showChildControl(a);this.__oX=new qx.ui.container.Composite(new qx.ui.layout.HBox()).set({minWidth:0});this._add(this.__oX,{row:0,column:0,colSpan:2});this.__oY=new qx.ui.table.pane.Clipper();this.__oY.add(this.__oV);this.__oY.addListener(U,this._onChangeCaptureHeader,this);this.__oY.addListener(T,this._onMousemoveHeader,this);this.__oY.addListener(bb,this._onMousedownHeader,this);this.__oY.addListener(B,this._onMouseupHeader,this);this.__oY.addListener(Y,this._onClickHeader,this);this.__oX.add(this.__oY,{flex:1});this.__pa=new qx.ui.table.pane.Clipper();this.__pa.add(this.__oW);this.__pa.addListener(bm,this._onMousewheel,this);this.__pa.addListener(T,this._onMousemovePane,this);this.__pa.addListener(bb,this._onMousedownPane,this);this.__pa.addListener(B,this._onMouseupPane,this);this.__pa.addListener(Y,this._onClickPane,this);this.__pa.addListener(P,this._onContextMenu,this);this.__pa.addListener(bq,this._onDblclickPane,this);this.__pa.addListener(v,this._onResizePane,this);if(qx.core.Environment.get(bf)){this.__pb=new qx.ui.container.Composite();this.__pb.setLayout(new qx.ui.layout.Canvas());this.__pb.add(this.__pa,{edge:0});this._add(this.__pb,{row:1,column:0});}else {this._add(this.__pa,{row:1,column:0});};this.__pc=this._showChildControl(O);this.__pd=this._showChildControl(y);this.__pe=this.getChildControl(W);this.initShowCellFocusIndicator();this.getChildControl(b).hide();this.addListener(m,this._onMouseout,this);this.addListener(s,this._onAppear,this);this.addListener(ba,this._onDisappear,this);this.__iG=new qx.event.Timer();this.__iG.addListener(bl,this._oninterval,this);this.initScrollTimeout();},statics:{MIN_COLUMN_WIDTH:10,RESIZE_REGION_RADIUS:5,CLICK_TOLERANCE:5,HORIZONTAL_SCROLLBAR:1,VERTICAL_SCROLLBAR:2},events:{"changeScrollY":A,"changeScrollX":A,"cellClick":K,"cellDblclick":K,"cellContextmenu":K,"beforeSort":A},properties:{horizontalScrollBarVisible:{check:c,init:false,apply:bg,event:k},verticalScrollBarVisible:{check:c,init:false,apply:F,event:N},tablePaneModel:{check:L,apply:g,event:H},liveResize:{check:c,init:false},focusCellOnMouseMove:{check:c,init:false},selectBeforeFocus:{check:c,init:false},showCellFocusIndicator:{check:c,init:true,apply:bi},contextMenuFromDataCellsOnly:{check:c,init:true},resetSelectionOnHeaderClick:{check:c,init:true},scrollTimeout:{check:d,init:100,apply:i},appearance:{refine:true,init:q}},members:{__oa:null,__mw:null,__pf:null,__pg:null,__ph:null,__pi:null,__pj:null,__pk:null,__pl:null,__pm:null,__pn:null,__po:null,__pp:null,__pq:null,__pr:false,__ps:null,__pt:null,__pu:null,__nV:null,__nW:null,__pv:null,__pw:null,__px:null,__pc:null,__pd:null,__oV:null,__oY:null,__oW:null,__pa:null,__pb:null,__pe:null,__oX:null,__iG:null,getPaneInsetRight:function(){var bv=this.getTopRightWidget();var bw=bv&&bv.isVisible()&&bv.getBounds()?bv.getBounds().width+bv.getMarginLeft()+bv.getMarginRight():0;var bu=this.__pd;var bt=this.getVerticalScrollBarVisible()?this.getVerticalScrollBarWidth()+bu.getMarginLeft()+bu.getMarginRight():0;return Math.max(bw,bt);},setPaneWidth:function(bx){if(this.isVerticalScrollBarVisible()){bx+=this.getPaneInsetRight();};this.setWidth(bx);},_createChildControlImpl:function(by,bz){var bA;switch(by){case S:bA=(this.getTable().getNewTablePaneHeader())(this);break;case a:bA=(this.getTable().getNewTablePane())(this);break;case W:bA=new qx.ui.table.pane.FocusIndicator(this);bA.setUserBounds(0,0,0,0);bA.setZIndex(1000);bA.addListener(B,this._onMouseupFocusIndicator,this);this.__pa.add(bA);bA.show();bA.setDecorator(null);break;case b:bA=new qx.ui.core.Widget();bA.setUserBounds(0,0,0,0);bA.setZIndex(1000);this.__pa.add(bA);break;case O:bA=this._createScrollBar(J).set({alignY:j});bA.addListener(Q,this._onScrollX,this);if(this.__pb!=null){bA.setMinHeight(qx.bom.element.Overflow.DEFAULT_SCROLLBAR_WIDTH);this.__pb.add(bA,{bottom:0,right:0,left:0});}else {this._add(bA,{row:2,column:0});};break;case y:bA=this._createScrollBar(t);bA.addListener(Q,this._onScrollY,this);if(this.__pb!=null){this.__pb.add(bA,{right:0,bottom:0,top:0});}else {this._add(bA,{row:1,column:1});};break;};return bA||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,by);},_applyHorizontalScrollBarVisible:function(bB,bC){this.__pc.setVisibility(bB?G:bc);},_applyVerticalScrollBarVisible:function(bD,bE){this.__pd.setVisibility(bD?G:bc);},_applyTablePaneModel:function(bF,bG){if(bG!=null){bG.removeListener(X,this._onPaneModelChanged,this);};bF.addListener(X,this._onPaneModelChanged,this);},_applyShowCellFocusIndicator:function(bH,bI){if(bH){this.__pe.setDecorator(z);this._updateFocusIndicator();}else {if(this.__pe){this.__pe.setDecorator(null);};};},getScrollY:function(){return this.__pd.getPosition();},setScrollY:function(scrollY,bJ){this.__pd.scrollTo(scrollY);if(bJ){this._updateContent();};},getScrollX:function(){return this.__pc.getPosition();},setScrollX:function(scrollX){this.__pc.scrollTo(scrollX);},getTable:function(){return this.__mw;},onColVisibilityChanged:function(){this.updateHorScrollBarMaximum();this._updateFocusIndicator();},setColumnWidth:function(bK,bL){this.__oV.setColumnWidth(bK,bL);this.__oW.setColumnWidth(bK,bL);var bM=this.getTablePaneModel();var x=bM.getX(bK);if(x!=-1){this.updateHorScrollBarMaximum();this._updateFocusIndicator();};},onColOrderChanged:function(){this.__oV.onColOrderChanged();this.__oW.onColOrderChanged();this.updateHorScrollBarMaximum();},onTableModelDataChanged:function(bN,bO,bP,bQ){this.__oW.onTableModelDataChanged(bN,bO,bP,bQ);var bR=this.getTable().getTableModel().getRowCount();if(bR!=this.__oa){this.updateVerScrollBarMaximum();if(this.getFocusedRow()>=bR){if(bR==0){this.setFocusedCell(null,null);}else {this.setFocusedCell(this.getFocusedColumn(),bR-1);};};this.__oa=bR;};},onSelectionChanged:function(){this.__oW.onSelectionChanged();},onFocusChanged:function(){this.__oW.onFocusChanged();},onTableModelMetaDataChanged:function(){this.__oV.onTableModelMetaDataChanged();this.__oW.onTableModelMetaDataChanged();},_onPaneModelChanged:function(){this.__oV.onPaneModelChanged();this.__oW.onPaneModelChanged();},_onResizePane:function(){this.updateHorScrollBarMaximum();this.updateVerScrollBarMaximum();this._updateContent();this.__oV._updateContent();this.__mw._updateScrollBarVisibility();},updateHorScrollBarMaximum:function(){var bV=this.__pa.getInnerSize();if(!bV){return;};var bT=this.getTablePaneModel().getTotalWidth();var bU=this.__pc;if(bV.width<bT){var bS=Math.max(0,bT-bV.width);bU.setMaximum(bS);bU.setKnobFactor(bV.width/bT);var bW=bU.getPosition();bU.setPosition(Math.min(bW,bS));}else {bU.setMaximum(0);bU.setKnobFactor(1);bU.setPosition(0);};},updateVerScrollBarMaximum:function(){var cf=this.__pa.getInnerSize();if(!cf){return;};var cd=this.getTable().getTableModel();var bY=cd.getRowCount();if(this.getTable().getKeepFirstVisibleRowComplete()){bY+=1;};var bX=this.getTable().getRowHeight();var cb=bY*bX;var ce=this.__pd;if(cf.height<cb){var ca=Math.max(0,cb-cf.height);ce.setMaximum(ca);ce.setKnobFactor(cf.height/cb);var cc=ce.getPosition();ce.setPosition(Math.min(cc,ca));}else {ce.setMaximum(0);ce.setKnobFactor(1);ce.setPosition(0);};},onKeepFirstVisibleRowCompleteChanged:function(){this.updateVerScrollBarMaximum();this._updateContent();},_onAppear:function(){this._startInterval(this.getScrollTimeout());},_onDisappear:function(){this._stopInterval();},_onScrollX:function(e){var cg=e.getData();this.fireDataEvent(h,cg,e.getOldData());this.__oY.scrollToX(cg);this.__pa.scrollToX(cg);},_onScrollY:function(e){this.fireDataEvent(u,e.getData(),e.getOldData());this._postponedUpdateContent();},_onMousewheel:function(e){var ch=this.getTable();if(!ch.getEnabled()){return;};var ck=e.getWheelDelta(bh);if(ck>0&&ck<1){ck=1;}else if(ck<0&&ck>-1){ck=-1;};this.__pd.scrollBySteps(ck);ck=e.getWheelDelta(I);if(ck>0&&ck<1){ck=1;}else if(ck<0&&ck>-1){ck=-1;};this.__pc.scrollBySteps(ck);if(this.__pt&&this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(this.__pt,this.__pu);};var cj=this.__pd.getPosition();var ci=this.__pd.getMaximum();if(ck<0&&cj<=0||ck>0&&cj>=ci){return;};e.stop();},__py:function(cl){var cq=this.getTable();var cr=this.__oV.getHeaderWidgetAtColumn(this.__pn);var cm=cr.getSizeHint().minWidth;var co=Math.max(cm,this.__pp+cl-this.__po);if(this.getLiveResize()){var cn=cq.getTableColumnModel();cn.setColumnWidth(this.__pn,co,true);}else {this.__oV.setColumnWidth(this.__pn,co,true);var cp=this.getTablePaneModel();this._showResizeLine(cp.getColumnLeft(this.__pn)+co);};this.__po+=co-this.__pp;this.__pp=co;},__pz:function(cs){var ct=qx.ui.table.pane.Scroller.CLICK_TOLERANCE;if(this.__oV.isShowingColumnMoveFeedback()||cs>this.__pm+ct||cs<this.__pm-ct){this.__pj+=cs-this.__pm;this.__oV.showColumnMoveFeedback(this.__pi,this.__pj);var cu=this.__mw.getTablePaneScrollerAtPageX(cs);if(this.__pl&&this.__pl!=cu){this.__pl.hideColumnMoveFeedback();};if(cu!=null){this.__pk=cu.showColumnMoveFeedback(cs);}else {this.__pk=null;};this.__pl=cu;this.__pm=cs;};},_onMousemoveHeader:function(e){var cB=this.getTable();if(!cB.getEnabled()){return;};var cC=false;var cv=null;var cz=e.getDocumentLeft();var cA=e.getDocumentTop();this.__pt=cz;this.__pu=cA;if(this.__pn!=null){this.__py(cz);cC=true;e.stopPropagation();}else if(this.__pi!=null){this.__pz(cz);e.stopPropagation();}else {var cw=this._getResizeColumnForPageX(cz);if(cw!=-1){cC=true;}else {var cy=cB.getTableModel();var cD=this._getColumnForPageX(cz);if(cD!=null&&cy.isColumnSortable(cD)){cv=cD;};};};var cx=cC?bd:null;this.getApplicationRoot().setGlobalCursor(cx);this.setCursor(cx);this.__oV.setMouseOverColumn(cv);},_onMousemovePane:function(e){var cE=this.getTable();if(!cE.getEnabled()){return;};var cG=e.getDocumentLeft();var cH=e.getDocumentTop();this.__pt=cG;this.__pu=cH;var cF=this._getRowForPagePos(cG,cH);if(cF!=null&&this._getColumnForPageX(cG)!=null){if(this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(cG,cH);};};this.__oV.setMouseOverColumn(null);},_onMousedownHeader:function(e){if(!this.getTable().getEnabled()){return;};var cJ=e.getDocumentLeft();var cK=this._getResizeColumnForPageX(cJ);if(cK!=-1){this._startResizeHeader(cK,cJ);e.stop();}else {var cI=this._getColumnForPageX(cJ);if(cI!=null){this._startMoveHeader(cI,cJ);e.stop();};};},_startResizeHeader:function(cL,cM){var cN=this.getTable().getTableColumnModel();this.__pn=cL;this.__po=cM;this.__pp=cN.getColumnWidth(this.__pn);this.__oY.capture();},_startMoveHeader:function(cO,cP){this.__pi=cO;this.__pm=cP;this.__pj=this.getTablePaneModel().getColumnLeft(cO);this.__oY.capture();},_onMousedownPane:function(e){var cT=this.getTable();if(!cT.getEnabled()){return;};if(cT.isEditing()){cT.stopEditing();};var cQ=e.getDocumentLeft();var cS=e.getDocumentTop();var cV=this._getRowForPagePos(cQ,cS);var cU=this._getColumnForPageX(cQ);if(cV!==null){this.__pq={row:cV,col:cU};this.__pr=false;var cR=this.getSelectBeforeFocus();if(cR){cT.getSelectionManager().handleMouseDown(cV,e);};if(!this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(cQ,cS);};if(!cR){cT.getSelectionManager().handleMouseDown(cV,e);};};},_onMouseupFocusIndicator:function(e){if(this.__pq&&!this.__pr&&!this.isEditing()&&this.__pe.getRow()==this.__pq.row&&this.__pe.getColumn()==this.__pq.col){this.fireEvent(V,qx.ui.table.pane.CellEvent,[this,e,this.__pq.row,this.__pq.col],true);this.__pr=true;}else if(!this.isEditing()){this._onMousedownPane(e);};},_onChangeCaptureHeader:function(e){if(this.__pn!=null){this._stopResizeHeader();};if(this.__pi!=null){this._stopMoveHeader();};},_stopResizeHeader:function(){var cW=this.getTable().getTableColumnModel();if(!this.getLiveResize()){this._hideResizeLine();cW.setColumnWidth(this.__pn,this.__pp,true);};this.__pn=null;this.__oY.releaseCapture();this.getApplicationRoot().setGlobalCursor(null);this.setCursor(null);if(this.isEditing()){var cX=this.__pv.getBounds().height;this.__pv.setUserBounds(0,0,this.__pp,cX);};},_stopMoveHeader:function(){var dd=this.getTable().getTableColumnModel();var de=this.getTablePaneModel();this.__oV.hideColumnMoveFeedback();if(this.__pl){this.__pl.hideColumnMoveFeedback();};if(this.__pk!=null){var dg=de.getFirstColumnX()+de.getX(this.__pi);var dc=this.__pk;if(dc!=dg&&dc!=dg+1){var df=dd.getVisibleColumnAtX(dg);var db=dd.getVisibleColumnAtX(dc);var da=dd.getOverallX(df);var cY=(db!=null)?dd.getOverallX(db):dd.getOverallColumnCount();if(cY>da){cY--;};dd.moveColumn(da,cY);this._updateFocusIndicator();};};this.__pi=null;this.__pk=null;this.__oY.releaseCapture();},_onMouseupPane:function(e){var dh=this.getTable();if(!dh.getEnabled()){return;};var di=this._getRowForPagePos(e.getDocumentLeft(),e.getDocumentTop());if(di!=-1&&di!=null&&this._getColumnForPageX(e.getDocumentLeft())!=null){dh.getSelectionManager().handleMouseUp(di,e);};},_onMouseupHeader:function(e){var dj=this.getTable();if(!dj.getEnabled()){return;};if(this.__pn!=null){this._stopResizeHeader();this.__ps=true;e.stop();}else if(this.__pi!=null){this._stopMoveHeader();e.stop();};},_onClickHeader:function(e){if(this.__ps){this.__ps=false;return;};var dp=this.getTable();if(!dp.getEnabled()){return;};var dm=dp.getTableModel();var dn=e.getDocumentLeft();var dl=this._getResizeColumnForPageX(dn);if(dl==-1){var ds=this._getColumnForPageX(dn);if(ds!=null&&dm.isColumnSortable(ds)){var dk=dm.getSortColumnIndex();var dq=(ds!=dk)?true:!dm.isSortAscending();var dr={column:ds,ascending:dq,clickEvent:e};if(this.fireDataEvent(C,dr,null,true)){if(dp.isEditing()){dp.stopEditing();};dm.sortByColumn(ds,dq);if(this.getResetSelectionOnHeaderClick()){dp.getSelectionModel().resetSelection();};};};};e.stop();},_onClickPane:function(e){var dt=this.getTable();if(!dt.getEnabled()){return;};var dw=e.getDocumentLeft();var dx=e.getDocumentTop();var du=this._getRowForPagePos(dw,dx);var dv=this._getColumnForPageX(dw);if(du!=null&&dv!=null){dt.getSelectionManager().handleClick(du,e);if(this.__pe.isHidden()||(this.__pq&&!this.__pr&&!this.isEditing()&&du==this.__pq.row&&dv==this.__pq.col)){this.fireEvent(V,qx.ui.table.pane.CellEvent,[this,e,du,dv],true);this.__pr=true;};};},_onContextMenu:function(e){var dB=e.getDocumentLeft();var dC=e.getDocumentTop();var dz=this._getRowForPagePos(dB,dC);var dA=this._getColumnForPageX(dB);if(dz===null&&this.getContextMenuFromDataCellsOnly()){return;};if(!this.getShowCellFocusIndicator()||dz===null||(this.__pq&&dz==this.__pq.row&&dA==this.__pq.col)){this.fireEvent(be,qx.ui.table.pane.CellEvent,[this,e,dz,dA],true);var dy=this.getTable().getContextMenu();if(dy){if(dy.getChildren().length>0){dy.openAtMouse(e);}else {dy.exclude();};e.preventDefault();};};},_onContextMenuOpen:function(e){},_onDblclickPane:function(e){var dE=e.getDocumentLeft();var dF=e.getDocumentTop();this._focusCellAtPagePos(dE,dF);this.startEditing();var dD=this._getRowForPagePos(dE,dF);if(dD!=-1&&dD!=null){this.fireEvent(M,qx.ui.table.pane.CellEvent,[this,e,dD],true);};},_onMouseout:function(e){var dG=this.getTable();if(!dG.getEnabled()){return;};if(this.__pn==null){this.setCursor(null);this.getApplicationRoot().setGlobalCursor(null);};this.__oV.setMouseOverColumn(null);if(this.getFocusCellOnMouseMove()){this.__mw.setFocusedCell();};},_showResizeLine:function(x){var dI=this._showChildControl(b);var dH=dI.getWidth();var dJ=this.__pa.getBounds();dI.setUserBounds(x-Math.round(dH/2),0,dH,dJ.height);},_hideResizeLine:function(){this._excludeChildControl(b);},showColumnMoveFeedback:function(dK){var dT=this.getTablePaneModel();var dS=this.getTable().getTableColumnModel();var dN=this.__oW.getContainerLocation().left;var dR=dT.getColumnCount();var dO=0;var dM=0;var dW=dN;for(var dL=0;dL<dR;dL++){var dP=dT.getColumnAtX(dL);var dU=dS.getColumnWidth(dP);if(dK<dW+dU/2){break;};dW+=dU;dO=dL+1;dM=dW-dN;};var dQ=this.__pa.getContainerLocation().left;var dV=this.__pa.getBounds().width;var scrollX=dQ-dN;dM=qx.lang.Number.limit(dM,scrollX+2,scrollX+dV-1);this._showResizeLine(dM);return dT.getFirstColumnX()+dO;},hideColumnMoveFeedback:function(){this._hideResizeLine();},_focusCellAtPagePos:function(dX,dY){var eb=this._getRowForPagePos(dX,dY);if(eb!=-1&&eb!=null){var ea=this._getColumnForPageX(dX);this.__mw.setFocusedCell(ea,eb);};},setFocusedCell:function(ec,ed){if(!this.isEditing()){this.__oW.setFocusedCell(ec,ed,this.__pg);this.__nV=ec;this.__nW=ed;this._updateFocusIndicator();};},getFocusedColumn:function(){return this.__nV;},getFocusedRow:function(){return this.__nW;},scrollCellVisible:function(ee,ef){var ep=this.getTablePaneModel();var eg=ep.getX(ee);if(eg!=-1){var em=this.__pa.getInnerSize();if(!em){return;};var en=this.getTable().getTableColumnModel();var ej=ep.getColumnLeft(ee);var eq=en.getColumnWidth(ee);var eh=this.getTable().getRowHeight();var er=ef*eh;var scrollX=this.getScrollX();var scrollY=this.getScrollY();var eo=Math.min(ej,ej+eq-em.width);var el=ej;this.setScrollX(Math.max(eo,Math.min(el,scrollX)));var ei=er+eh-em.height;if(this.getTable().getKeepFirstVisibleRowComplete()){ei+=eh;};var ek=er;this.setScrollY(Math.max(ei,Math.min(ek,scrollY)),true);};},isEditing:function(){return this.__pv!=null;},startEditing:function(){var ew=this.getTable();var eu=ew.getTableModel();var ey=this.__nV;if(!this.isEditing()&&(ey!=null)&&eu.isColumnEditable(ey)){var ez=this.__nW;var es=this.getTablePaneModel().getX(ey);var et=eu.getValue(ey,ez);this.scrollCellVisible(es,ez);this.__pw=ew.getTableColumnModel().getCellEditorFactory(ey);var ev={col:ey,row:ez,xPos:es,value:et,table:ew};this.__pv=this.__pw.createCellEditor(ev);if(this.__pv===null){return false;}else if(this.__pv instanceof qx.ui.window.Window){this.__pv.setModal(true);this.__pv.setShowClose(false);this.__pv.addListener(E,this._onCellEditorModalWindowClose,this);var f=ew.getModalCellEditorPreOpenFunction();if(f!=null){f(this.__pv,ev);};this.__pv.open();}else {var ex=this.__pe.getInnerSize();this.__pv.setUserBounds(0,0,ex.width,ex.height);this.__pe.addListener(bb,function(e){this.__pq={row:this.__nW,col:this.__nV};e.stopPropagation();},this);this.__pe.add(this.__pv);this.__pe.addState(R);this.__pe.setKeepActive(false);this.__pe.setDecorator(z);this.__pv.focus();this.__pv.activate();};return true;};return false;},stopEditing:function(){if(!this.getShowCellFocusIndicator()){this.__pe.setDecorator(null);};this.flushEditor();this.cancelEditing();},flushEditor:function(){if(this.isEditing()){var eB=this.__pw.getCellEditorValue(this.__pv);var eA=this.getTable().getTableModel().getValue(this.__nV,this.__nW);this.getTable().getTableModel().setValue(this.__nV,this.__nW,eB);this.__mw.focus();this.__mw.fireDataEvent(bo,{row:this.__nW,col:this.__nV,oldValue:eA,value:eB});};},cancelEditing:function(){if(this.isEditing()&&!this.__pv.pendingDispose){if(this._cellEditorIsModalWindow){this.__pv.destroy();this.__pv=null;this.__pw=null;this.__pv.pendingDispose=true;}else {this.__pe.removeState(R);this.__pe.setKeepActive(true);this.__pv.destroy();this.__pv=null;this.__pw=null;};};},_onCellEditorModalWindowClose:function(e){this.stopEditing();},_getColumnForPageX:function(eC){var eF=this.getTable().getTableColumnModel();var eG=this.getTablePaneModel();var eE=eG.getColumnCount();var eI=this.__oW.getContentLocation().left;for(var x=0;x<eE;x++){var eD=eG.getColumnAtX(x);var eH=eF.getColumnWidth(eD);eI+=eH;if(eC<eI){return eD;};};return null;},_getResizeColumnForPageX:function(eJ){var eN=this.getTable().getTableColumnModel();var eO=this.getTablePaneModel();var eM=eO.getColumnCount();var eQ=this.__oV.getContainerLocation().left;var eK=qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS;for(var x=0;x<eM;x++){var eL=eO.getColumnAtX(x);var eP=eN.getColumnWidth(eL);eQ+=eP;if(eJ>=(eQ-eK)&&eJ<=(eQ+eK)){return eL;};};return -1;},_getRowForPagePos:function(eR,eS){var eT=this.__oW.getContentLocation();if(eR<eT.left||eR>eT.right){return null;};if(eS>=eT.top&&eS<=eT.bottom){var eU=this.getTable().getRowHeight();var scrollY=this.__pd.getPosition();if(this.getTable().getKeepFirstVisibleRowComplete()){scrollY=Math.floor(scrollY/eU)*eU;};var eX=scrollY+eS-eT.top;var fa=Math.floor(eX/eU);var eY=this.getTable().getTableModel();var eV=eY.getRowCount();return (fa<eV)?fa:null;};var eW=this.__oV.getContainerLocation();if(eS>=eW.top&&eS<=eW.bottom&&eR<=eW.right){return -1;};return null;},setTopRightWidget:function(fb){var fc=this.__px;if(fc!=null){this.__oX.remove(fc);};if(fb!=null){this.__oX.add(fb);};this.__px=fb;},getTopRightWidget:function(){return this.__px;},getHeader:function(){return this.__oV;},getTablePane:function(){return this.__oW;},getVerticalScrollBarWidth:function(){var fd=this.__pd;return fd.isVisible()?(fd.getSizeHint().width||0):0;},getNeededScrollBars:function(fe,ff){var fo=this.__pd;var fs=fo.getSizeHint().width+fo.getMarginLeft()+fo.getMarginRight();var fu=this.__pc;var ft=fu.getSizeHint().height+fu.getMarginTop()+fu.getMarginBottom();var fm=this.__pa.getInnerSize();var fg=fm?fm.width:0;if(this.getVerticalScrollBarVisible()){fg+=fs;};var fr=fm?fm.height:0;if(this.getHorizontalScrollBarVisible()){fr+=ft;};var fn=this.getTable().getTableModel();var fk=fn.getRowCount();var fh=this.getTablePaneModel().getTotalWidth();var fp=this.getTable().getRowHeight()*fk;var fj=false;var fq=false;if(fh>fg){fj=true;if(fp>fr-ft){fq=true;};}else if(fp>fr){fq=true;if(!ff&&(fh>fg-fs)){fj=true;};};var fl=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var fi=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;return ((fe||fj)?fl:0)|((ff||!fq)?0:fi);},getPaneClipper:function(){return this.__pa;},_applyScrollTimeout:function(fv,fw){this._startInterval(fv);},_startInterval:function(fx){this.__iG.setInterval(fx);this.__iG.start();},_stopInterval:function(){this.__iG.stop();},_postponedUpdateContent:function(){this._updateContent();},_oninterval:qx.event.GlobalError.observeMethod(function(){if(this.__pg&&!this.__oW._layoutPending){this.__pg=false;this._updateContent();};}),_updateContent:function(){var fC=this.__pa.getInnerSize();if(!fC){return;};var fF=fC.height;var scrollX=this.__pc.getPosition();var scrollY=this.__pd.getPosition();var fz=this.getTable().getRowHeight();var fA=Math.floor(scrollY/fz);var fE=this.__oW.getFirstVisibleRow();this.__oW.setFirstVisibleRow(fA);var fB=Math.ceil(fF/fz);var fy=0;var fD=this.getTable().getKeepFirstVisibleRowComplete();if(!fD){fB++;fy=scrollY%fz;};this.__oW.setVisibleRowCount(fB);if(fA!=fE){this._updateFocusIndicator();};this.__pa.scrollToX(scrollX);if(!fD){this.__pa.scrollToY(fy);};},_updateFocusIndicator:function(){var fG=this.getTable();if(!fG.getEnabled()){return;};this.__pe.moveToCell(this.__nV,this.__nW);}},destruct:function(){this._stopInterval();var fH=this.getTablePaneModel();if(fH){fH.dispose();};this.__pq=this.__px=this.__mw=null;this._disposeObjects(l,bp,D,w,o,n,r,bn,bk,p);}});})();(function(){var b="qx.ui.table.IColumnMenuItem",a="qx.event.type.Data";qx.Interface.define(b,{properties:{visible:{}},events:{changeVisible:a}});})();(function(){var f="changeVisible",d="qx.ui.table.columnmenu.MenuItem",c="_applyVisible",b="Boolean",a="changeValue";qx.Class.define(d,{extend:qx.ui.menu.CheckBox,implement:qx.ui.table.IColumnMenuItem,properties:{visible:{check:b,init:true,apply:c,event:f}},construct:function(g){qx.ui.menu.CheckBox.call(this,g);this.addListener(a,function(e){this.bInListener=true;this.setVisible(e.getData());this.bInListener=false;});},members:{__oD:false,_applyVisible:function(h,i){if(!this.bInListener){this.setValue(h);};}}});})();(function(){var a="qx.lang.Number";qx.Class.define(a,{statics:{isInRange:function(b,c,d){return b>=c&&b<=d;},isBetweenRange:function(e,f,g){return e>f&&e<g;},limit:function(h,i,j){if(j!=null&&h>j){return j;}else if(i!=null&&h<i){return i;}else {return h;};}}});})();(function(){var g="_applyIconTrue",f="decoration/table/boolean-true.png",e="qx.ui.table.cellrenderer.Boolean",d=";padding-top:4px;",c="decoration/table/boolean-false.png",b="_applyIconFalse",a="String";qx.Class.define(e,{extend:qx.ui.table.cellrenderer.AbstractImage,construct:function(){qx.ui.table.cellrenderer.AbstractImage.call(this);this.__ze=qx.util.AliasManager.getInstance();this.initIconTrue();this.initIconFalse();},properties:{iconTrue:{check:a,init:f,apply:g},iconFalse:{check:a,init:c,apply:b}},members:{__zf:null,__zg:false,__ze:null,_applyIconTrue:function(h){this.__zf=this.__ze.resolve(h);},_applyIconFalse:function(i){this.__zg=this.__ze.resolve(i);},_insetY:5,_getCellStyle:function(j){return qx.ui.table.cellrenderer.AbstractImage.prototype._getCellStyle.call(this,j)+d;},_identifyImage:function(k){var l={imageWidth:11,imageHeight:11};switch(k.value){case true:l.url=this.__zf;break;case false:l.url=this.__zg;break;default:l.url=null;break;};return l;}},destruct:function(){this.__ze=null;}});})();(function(){var k='<div>',j="</div>",h="overflow: hidden;",g="qx.event.type.Data",f="paneReloadsData",e="div",d='style="',c="_applyMaxCacheLines",b="qx.ui.table.pane.Pane",a="width: 100%;",E="qx.event.type.Event",D="_applyVisibleRowCount",C='>',B="line-height: ",A="appear",z='class="',w="width:100%;",v="px;",u='<div ',t="'>",r="_applyFirstVisibleRow",s="<div style='",p=";position:relative;",q='</div>',n='" ',o="paneUpdated",l="Number",m="";qx.Class.define(b,{extend:qx.ui.core.Widget,construct:function(F){qx.ui.core.Widget.call(this);this.__oJ=F;this.__oK=0;this.__oa=0;this.__oL=[];},events:{"paneReloadsData":g,"paneUpdated":E},properties:{firstVisibleRow:{check:l,init:0,apply:r},visibleRowCount:{check:l,init:0,apply:D},maxCacheLines:{check:l,init:1000,apply:c},allowShrinkX:{refine:true,init:false}},members:{__oa:null,__oK:null,__oJ:null,__oM:null,__nW:null,__nV:null,__oL:null,__oN:0,_applyFirstVisibleRow:function(G,H){this.updateContent(false,G-H);},_applyVisibleRowCount:function(I,J){this.updateContent(true);},_getContentHint:function(){return {width:this.getPaneScroller().getTablePaneModel().getTotalWidth(),height:400};},getPaneScroller:function(){return this.__oJ;},getTable:function(){return this.__oJ.getTable();},setFocusedCell:function(K,L,M){if(K!=this.__nV||L!=this.__nW){var N=this.__nW;this.__nV=K;this.__nW=L;if(L!=N&&!M){if(N!==null){this.updateContent(false,null,N,true);};if(L!==null){this.updateContent(false,null,L,true);};};};},onSelectionChanged:function(){this.updateContent(false,null,null,true);},onFocusChanged:function(){this.updateContent(false,null,null,true);},setColumnWidth:function(O,P){this.updateContent(true);},onColOrderChanged:function(){this.updateContent(true);},onPaneModelChanged:function(){this.updateContent(true);},onTableModelDataChanged:function(Q,R,S,T){this.__oO();var V=this.getFirstVisibleRow();var U=this.getVisibleRowCount();if(R==-1||R>=V&&Q<V+U){this.updateContent();};},onTableModelMetaDataChanged:function(){this.updateContent(true);},_applyMaxCacheLines:function(W,X){if(this.__oN>=W&&W!==-1){this.__oO();};},__oO:function(){this.__oL=[];this.__oN=0;},__oP:function(Y,ba,bb){if(!ba&&!bb&&this.__oL[Y]){return this.__oL[Y];}else {return null;};},__oQ:function(bc,bd,be,bf){var bg=this.getMaxCacheLines();if(!be&&!bf&&!this.__oL[bc]&&bg>0){this._applyMaxCacheLines(bg);this.__oL[bc]=bd;this.__oN+=1;};},updateContent:function(bh,bi,bj,bk){if(bh){this.__oO();};if(bi&&Math.abs(bi)<=Math.min(10,this.getVisibleRowCount())){this._scrollContent(bi);}else if(bk&&!this.getTable().getAlwaysUpdateCells()){this._updateRowStyles(bj);}else {this._updateAllRows();};},_updateRowStyles:function(bl){var bp=this.getContentElement().getDomElement();if(!bp||!bp.firstChild){this._updateAllRows();return;};var bt=this.getTable();var bn=bt.getSelectionModel();var bq=bt.getTableModel();var bu=bt.getDataRowRenderer();var bo=bp.firstChild.childNodes;var bs={table:bt};var bv=this.getFirstVisibleRow();var y=0;var bm=bo.length;if(bl!=null){var br=bl-bv;if(br>=0&&br<bm){bv=bl;y=br;bm=br+1;}else {return;};};for(;y<bm;y++,bv++){bs.row=bv;bs.selected=bn.isSelectedIndex(bv);bs.focusedRow=(this.__nW==bv);bs.rowData=bq.getRowData(bv);bu.updateDataRowElement(bs,bo[y]);};},_getRowsHtml:function(bw,bx){var bD=this.getTable();var bG=bD.getSelectionModel();var bA=bD.getTableModel();var bB=bD.getTableColumnModel();var bV=this.getPaneScroller().getTablePaneModel();var bL=bD.getDataRowRenderer();bA.prefetchRows(bw,bw+bx-1);var bS=bD.getRowHeight();var bU=bV.getColumnCount();var bC=0;var bz=[];for(var x=0;x<bU;x++){var bY=bV.getColumnAtX(x);var bF=bB.getColumnWidth(bY);bz.push({col:bY,xPos:x,editable:bA.isColumnEditable(bY),focusedCol:this.__nV==bY,styleLeft:bC,styleWidth:bF});bC+=bF;};var bX=[];var ca=false;for(var bE=bw;bE<bw+bx;bE++){var bH=bG.isSelectedIndex(bE);var bK=(this.__nW==bE);var bP=this.__oP(bE,bH,bK);if(bP){bX.push(bP);continue;};var by=[];var bR={table:bD};bR.styleHeight=bS;bR.row=bE;bR.selected=bH;bR.focusedRow=bK;bR.rowData=bA.getRowData(bE);if(!bR.rowData){ca=true;};by.push(u);var bO=bL.getRowAttributes(bR);if(bO){by.push(bO);};var bN=bL.getRowClass(bR);if(bN){by.push(z,bN,n);};var bM=bL.createRowStyle(bR);bM+=p+bL.getRowHeightStyle(bS)+w;if(bM){by.push(d,bM,n);};by.push(C);var bW=false;for(x=0;x<bU&&!bW;x++){var bI=bz[x];for(var bT in bI){bR[bT]=bI[bT];};var bY=bR.col;bR.value=bA.getValue(bY,bE);var bJ=bB.getDataCellRenderer(bY);bR.style=bJ.getDefaultCellStyle();bW=bJ.createDataCellHtml(bR,by)||false;};by.push(q);var bQ=by.join(m);this.__oQ(bE,bQ,bH,bK);bX.push(bQ);};this.fireDataEvent(f,ca);return bX.join(m);},_scrollContent:function(cb){var cc=this.getContentElement().getDomElement();if(!(cc&&cc.firstChild)){this._updateAllRows();return;};var cl=cc.firstChild;var cd=cl.childNodes;var cj=this.getVisibleRowCount();var ci=this.getFirstVisibleRow();var cg=this.getTable().getTableModel();var cm=0;cm=cg.getRowCount();if(ci+cj>cm){this._updateAllRows();return;};var cn=cb<0?cj+cb:0;var ce=cb<0?0:cj-cb;for(i=Math.abs(cb)-1;i>=0;i--){var ch=cd[cn];try{cl.removeChild(ch);}catch(co){break;};};if(!this.__oM){this.__oM=document.createElement(e);};var ck=k;ck+=this._getRowsHtml(ci+ce,Math.abs(cb));ck+=q;this.__oM.innerHTML=ck;var cf=this.__oM.firstChild.childNodes;if(cb>0){for(var i=cf.length-1;i>=0;i--){var ch=cf[0];cl.appendChild(ch);};}else {for(var i=cf.length-1;i>=0;i--){var ch=cf[cf.length-1];cl.insertBefore(ch,cl.firstChild);};};if(this.__nW!==null){this._updateRowStyles(this.__nW-cb);this._updateRowStyles(this.__nW);};this.fireEvent(o);},_updateAllRows:function(){var cs=this.getContentElement().getDomElement();if(!cs){this.addListenerOnce(A,arguments.callee,this);return;};var cy=this.getTable();var cv=cy.getTableModel();var cx=this.getPaneScroller().getTablePaneModel();var cw=cx.getColumnCount();var cp=cy.getRowHeight();var ct=this.getFirstVisibleRow();var cq=this.getVisibleRowCount();var cz=cv.getRowCount();if(ct+cq>cz){cq=Math.max(0,cz-ct);};var cr=cx.getTotalWidth();var cu;if(cq>0){cu=[s,a,(cy.getForceLineHeight()?B+cp+v:m),h,t,this._getRowsHtml(ct,cq),j];}else {cu=[];};var cA=cu.join(m);cs.innerHTML=cA;this.setWidth(cr);this.__oK=cw;this.__oa=cq;this.fireEvent(o);}},destruct:function(){this.__oM=this.__oJ=this.__oL=null;}});})();(function(){var e="string",d="number",c="*",b="qx.ui.core.ColumnData",a="auto";qx.Class.define(b,{extend:qx.ui.core.LayoutItem,construct:function(){qx.ui.core.LayoutItem.call(this);this.setColumnWidth(a);},members:{__nM:null,renderLayout:function(f,top,g,h){this.__nM=g;},getComputedWidth:function(){return this.__nM;},getFlex:function(){return this.getLayoutProperties().flex||0;},setColumnWidth:function(i,j){var j=j||0;var k=null;if(typeof i==d){this.setWidth(i);}else if(typeof i==e){if(i==a){j=1;}else {var l=i.match(/^[0-9]+(?:\.[0-9]+)?([%\*])$/);if(l){if(l[1]==c){j=parseFloat(i);}else {k=i;};};};};this.setLayoutProperties({flex:j,width:k});}},environment:{"qx.tableResizeDebug":false}});})();(function(){var h="onAppear is abstract",g="onVisibilityChanged is abstract",f="onVerticalScrollBarChanged is abstract",e="abstract",d="qx.ui.table.columnmodel.resizebehavior.Abstract",c="_setNumColumns is abstract",b="onTableWidthChanged is abstract",a="onColumnWidthChanged is abstract";qx.Class.define(d,{type:e,extend:qx.core.Object,members:{_setNumColumns:function(i){throw new Error(c);},onAppear:function(event,j){throw new Error(h);},onTableWidthChanged:function(event){throw new Error(b);},onVerticalScrollBarChanged:function(event){throw new Error(f);},onColumnWidthChanged:function(event){throw new Error(a);},onVisibilityChanged:function(event){throw new Error(g);},_getAvailableWidth:function(){var l=this.getTableColumnModel();var o=l.getTable();var k=o._getPaneScrollerArr();if(!k[0]||!k[0].getLayoutParent().getBounds()){return null;};var n=k[0].getLayoutParent().getBounds().width;var m=k[k.length-1];n-=m.getPaneInsetRight();return n;}}});})();(function(){var m="Function",k="Boolean",j="minWidth",h="width",g="qx.ui.table.columnmodel.Resize",f="qx.ui.table.columnmodel.resizebehavior.Default",e="__nO",d="Unknown property: ",c="__nP",b="maxWidth",a="Column number out of range";qx.Class.define(f,{extend:qx.ui.table.columnmodel.resizebehavior.Abstract,construct:function(){qx.ui.table.columnmodel.resizebehavior.Abstract.call(this);this.__nN=[];this.__nO=new qx.ui.layout.HBox();this.__nO.connectToWidget(this);this.__nP=new qx.util.DeferredCall(this._computeColumnsFlexWidth,this);},properties:{newResizeBehaviorColumnData:{check:m,init:function(n){return new qx.ui.core.ColumnData();}},initializeWidthsOnEveryAppear:{check:k,init:false},tableColumnModel:{check:g}},members:{__nO:null,__nQ:null,__nN:null,__nP:null,__nR:false,setWidth:function(o,p,q){if(o>=this.__nN.length){throw new Error(a);};this.__nN[o].setColumnWidth(p,q);this.__nP.schedule();},setMinWidth:function(r,s){if(r>=this.__nN.length){throw new Error(a);};this.__nN[r].setMinWidth(s);this.__nP.schedule();},setMaxWidth:function(t,u){if(t>=this.__nN.length){throw new Error(a);};this.__nN[t].setMaxWidth(u);this.__nP.schedule();},set:function(v,w){for(var x in w){switch(x){case h:this.setWidth(v,w[x]);break;case j:this.setMinWidth(v,w[x]);break;case b:this.setMaxWidth(v,w[x]);break;default:throw new Error(d+x);};};},onAppear:function(event,y){if(y===true||!this.__nR||this.getInitializeWidthsOnEveryAppear()){this._computeColumnsFlexWidth();this.__nR=true;};},onTableWidthChanged:function(event){this._computeColumnsFlexWidth();},onVerticalScrollBarChanged:function(event){this._computeColumnsFlexWidth();},onColumnWidthChanged:function(event){this._extendNextColumn(event);},onVisibilityChanged:function(event){var z=event.getData();if(z.visible){this._computeColumnsFlexWidth();return;};this._extendLastColumn(event);},_setNumColumns:function(A){var B=this.__nN;if(A<=B.length){B.splice(A,B.length);return;};for(var i=B.length;i<A;i++){B[i]=this.getNewResizeBehaviorColumnData()();B[i].columnNumber=i;};},getLayoutChildren:function(){return this.__nQ;},_computeColumnsFlexWidth:function(){this.__nP.cancel();var G=this._getAvailableWidth();if(G===null){return;};var C=this.getTableColumnModel();var E=C.getVisibleColumns();var F=E.length;var D=this.__nN;var i,l;if(F===0){return;};var I=[];for(i=0;i<F;i++){I.push(D[E[i]]);};this.__nQ=I;this.__nS();this.__nO.renderLayout(G,100);for(i=0,l=I.length;i<l;i++){var H=I[i].getComputedWidth();C.setColumnWidth(E[i],H);};},__nS:function(){this.__nO.invalidateChildrenCache();var J=this.__nQ;for(var i=0,l=J.length;i<l;i++){J[i].invalidateLayoutCache();};},_extendNextColumn:function(event){var O=this.getTableColumnModel();var R=event.getData();var M=O.getVisibleColumns();var L=this._getAvailableWidth();var K=M.length;if(R.newWidth>R.oldWidth){return;};var i;var N;var Q=0;for(i=0;i<K;i++){Q+=O.getColumnWidth(M[i]);};if(Q<L){for(i=0;i<M.length;i++){if(M[i]==R.col){N=M[i+1];break;};};if(N){var P=(L-(Q-O.getColumnWidth(N)));O.setColumnWidth(N,P);};};},_extendLastColumn:function(event){var V=this.getTableColumnModel();var ba=event.getData();if(ba.visible){return;};var U=V.getVisibleColumns();if(U.length==0){return;};var T=this._getAvailableWidth(V);var S=U.length;var i;var X;var Y=0;for(i=0;i<S;i++){Y+=V.getColumnWidth(U[i]);};if(Y<T){X=U[U.length-1];var W=(T-(Y-V.getColumnWidth(X)));V.setColumnWidth(X,W);};},_getResizeColumnData:function(){return this.__nN;}},destruct:function(){this.__nN=this.__nQ=null;this._disposeObjects(e,c);}});})();(function(){var l="abstract",k="columnIdArr and columnNameArr have different length: ",j="getValue is abstract",h="qx.ui.table.model.Abstract",g="qx.event.type.Event",f="this.__columnIdArr and columnNameArr have different length: ",e="setValue is abstract",d="getRowCount is abstract",c=" != ",b="metaDataChanged",a="qx.event.type.Data";qx.Class.define(h,{type:l,extend:qx.core.Object,implement:qx.ui.table.ITableModel,events:{"dataChanged":a,"metaDataChanged":g,"sorted":a},construct:function(){qx.core.Object.call(this);this.__mS=[];this.__mT=[];this.__mU={};},members:{__mS:null,__mT:null,__mU:null,__mV:null,init:function(m){},getRowCount:function(){throw new Error(d);},getRowData:function(n){return null;},isColumnEditable:function(o){return false;},isColumnSortable:function(p){return false;},sortByColumn:function(q,r){},getSortColumnIndex:function(){return -1;},isSortAscending:function(){return true;},prefetchRows:function(s,t){},getValue:function(u,v){throw new Error(j);},getValueById:function(w,x){return this.getValue(this.getColumnIndexById(w),x);},setValue:function(y,z,A){throw new Error(e);},setValueById:function(B,C,D){this.setValue(this.getColumnIndexById(B),C,D);},getColumnCount:function(){return this.__mS.length;},getColumnIndexById:function(E){return this.__mU[E];},getColumnId:function(F){return this.__mS[F];},getColumnName:function(G){return this.__mT[G];},setColumnIds:function(H){this.__mS=H;this.__mU={};for(var i=0;i<H.length;i++){this.__mU[H[i]]=i;};this.__mT=new Array(H.length);if(!this.__mV){this.fireEvent(b);};},setColumnNamesByIndex:function(I){if(this.__mS.length!=I.length){throw new Error(f+this.__mS.length+c+I.length);};this.__mT=I;this.fireEvent(b);},setColumnNamesById:function(J){this.__mT=new Array(this.__mS.length);for(var i=0;i<this.__mS.length;++i){this.__mT[i]=J[this.__mS[i]];};},setColumns:function(K,L){var M=this.__mS.length==0||L;if(L==null){if(this.__mS.length==0){L=K;}else {L=this.__mS;};};if(L.length!=K.length){throw new Error(k+L.length+c+K.length);};if(M){this.__mV=true;this.setColumnIds(L);this.__mV=false;};this.setColumnNamesByIndex(K);}},destruct:function(){this.__mS=this.__mT=this.__mU=null;}});})();(function(){var h="qx.ui.table.model.Simple",g="Boolean",f="this.__rowArr out of bounds: ",e=")",d=" (0..",c="sorted",b="metaDataChanged",a="dataChanged";qx.Class.define(h,{extend:qx.ui.table.model.Abstract,construct:function(){qx.ui.table.model.Abstract.call(this);this.__mW=[];this.__mX=-1;this.__mY=[];this.__na=null;},properties:{caseSensitiveSorting:{check:g,init:true}},statics:{_defaultSortComparatorAscending:function(k,l){var m=k[arguments.callee.columnIndex];var n=l[arguments.callee.columnIndex];if(qx.lang.Type.isNumber(m)&&qx.lang.Type.isNumber(n)){var o=isNaN(m)?isNaN(n)?0:1:isNaN(n)?-1:null;if(o!=null){return o;};};return (m>n)?1:((m==n)?0:-1);},_defaultSortComparatorInsensitiveAscending:function(p,q){var r=(p[arguments.callee.columnIndex].toLowerCase?p[arguments.callee.columnIndex].toLowerCase():p[arguments.callee.columnIndex]);var s=(q[arguments.callee.columnIndex].toLowerCase?q[arguments.callee.columnIndex].toLowerCase():q[arguments.callee.columnIndex]);if(qx.lang.Type.isNumber(r)&&qx.lang.Type.isNumber(s)){var t=isNaN(r)?isNaN(s)?0:1:isNaN(s)?-1:null;if(t!=null){return t;};};return (r>s)?1:((r==s)?0:-1);},_defaultSortComparatorDescending:function(u,v){var w=u[arguments.callee.columnIndex];var x=v[arguments.callee.columnIndex];if(qx.lang.Type.isNumber(w)&&qx.lang.Type.isNumber(x)){var y=isNaN(w)?isNaN(x)?0:1:isNaN(x)?-1:null;if(y!=null){return y;};};return (w<x)?1:((w==x)?0:-1);},_defaultSortComparatorInsensitiveDescending:function(z,A){var B=(z[arguments.callee.columnIndex].toLowerCase?z[arguments.callee.columnIndex].toLowerCase():z[arguments.callee.columnIndex]);var C=(A[arguments.callee.columnIndex].toLowerCase?A[arguments.callee.columnIndex].toLowerCase():A[arguments.callee.columnIndex]);if(qx.lang.Type.isNumber(B)&&qx.lang.Type.isNumber(C)){var D=isNaN(B)?isNaN(C)?0:1:isNaN(C)?-1:null;if(D!=null){return D;};};return (B<C)?1:((B==C)?0:-1);}},members:{__mW:null,__na:null,__nb:null,__mY:null,__mX:null,__nc:null,getRowData:function(E){var F=this.__mW[E];if(F==null||F.originalData==null){return F;}else {return F.originalData;};},getRowDataAsMap:function(G){var I=this.__mW[G];if(I!=null){var H={};for(var J=0;J<this.getColumnCount();J++){H[this.getColumnId(J)]=I[J];};if(I.originalData!=null){for(var K in I.originalData){if(H[K]==undefined){H[K]=I.originalData[K];};};};return H;};return (I&&I.originalData)?I.originalData:null;},getDataAsMapArray:function(){var M=this.getRowCount();var L=[];for(var i=0;i<M;i++){L.push(this.getRowDataAsMap(i));};return L;},setEditable:function(N){this.__na=[];for(var O=0;O<this.getColumnCount();O++){this.__na[O]=N;};this.fireEvent(b);},setColumnEditable:function(P,Q){if(Q!=this.isColumnEditable(P)){if(this.__na==null){this.__na=[];};this.__na[P]=Q;this.fireEvent(b);};},isColumnEditable:function(R){return this.__na?(this.__na[R]==true):false;},setColumnSortable:function(S,T){if(T!=this.isColumnSortable(S)){if(this.__nb==null){this.__nb=[];};this.__nb[S]=T;this.fireEvent(b);};},isColumnSortable:function(U){return (this.__nb?(this.__nb[U]!==false):true);},sortByColumn:function(V,W){var ba;var Y=this.__mY[V];if(Y){ba=(W?Y.ascending:Y.descending);}else {if(this.getCaseSensitiveSorting()){ba=(W?qx.ui.table.model.Simple._defaultSortComparatorAscending:qx.ui.table.model.Simple._defaultSortComparatorDescending);}else {ba=(W?qx.ui.table.model.Simple._defaultSortComparatorInsensitiveAscending:qx.ui.table.model.Simple._defaultSortComparatorInsensitiveDescending);};};ba.columnIndex=V;this.__mW.sort(ba);this.__mX=V;this.__nc=W;var X={columnIndex:V,ascending:W};this.fireDataEvent(c,X);this.fireEvent(b);},setSortMethods:function(bb,bc){var bd;if(qx.lang.Type.isFunction(bc)){bd={ascending:bc,descending:function(be,bf){return bc(bf,be);}};}else {bd=bc;};this.__mY[bb]=bd;},getSortMethods:function(bg){return this.__mY[bg];},clearSorting:function(){if(this.__mX!=-1){this.__mX=-1;this.__nc=true;this.fireEvent(b);};},getSortColumnIndex:function(){return this.__mX;},_setSortColumnIndex:function(bh){this.__mX=bh;},isSortAscending:function(){return this.__nc;},_setSortAscending:function(bi){this.__nc=bi;},getRowCount:function(){return this.__mW.length;},getValue:function(bj,bk){if(bk<0||bk>=this.__mW.length){throw new Error(f+bk+d+this.__mW.length+e);};return this.__mW[bk][bj];},setValue:function(bl,bm,bn){if(this.__mW[bm][bl]!=bn){this.__mW[bm][bl]=bn;if(this.hasListener(a)){var bo={firstRow:bm,lastRow:bm,firstColumn:bl,lastColumn:bl};this.fireDataEvent(a,bo);};if(bl==this.__mX){this.clearSorting();};};},setData:function(bp,bq){this.__mW=bp;if(this.hasListener(a)){var br={firstRow:0,lastRow:bp.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,br);};if(bq!==false){this.clearSorting();};},getData:function(){return this.__mW;},setDataAsMapArray:function(bs,bt,bu){this.setData(this._mapArray2RowArr(bs,bt),bu);},addRows:function(bv,bw,bx){if(bw==null){bw=this.__mW.length;};bv.splice(0,0,bw,0);Array.prototype.splice.apply(this.__mW,bv);var by={firstRow:bw,lastRow:this.__mW.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,by);if(bx!==false){this.clearSorting();};},addRowsAsMapArray:function(bz,bA,bB,bC){this.addRows(this._mapArray2RowArr(bz,bB),bA,bC);},setRows:function(bD,bE,bF){if(bE==null){bE=0;};bD.splice(0,0,bE,bD.length);Array.prototype.splice.apply(this.__mW,bD);var bG={firstRow:bE,lastRow:this.__mW.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,bG);if(bF!==false){this.clearSorting();};},setRowsAsMapArray:function(bH,bI,bJ,bK){this.setRows(this._mapArray2RowArr(bH,bJ),bI,bK);},removeRows:function(bL,bM,bN){this.__mW.splice(bL,bM);var bO={firstRow:bL,lastRow:this.__mW.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1,removeStart:bL,removeCount:bM};this.fireDataEvent(a,bO);if(bN!==false){this.clearSorting();};},_mapArray2RowArr:function(bP,bQ){var bU=bP.length;var bR=this.getColumnCount();var bT=new Array(bU);var bS;for(var i=0;i<bU;++i){bS=[];if(bQ){bS.originalData=bP[i];};for(var j=0;j<bR;++j){bS[j]=bP[i][this.getColumnId(j)];};bT[i]=bS;};return bT;}},destruct:function(){this.__mW=this.__na=this.__mY=this.__nb=null;}});})();(function(){var a="qx.ui.table.IColumnMenuButton";qx.Interface.define(a,{properties:{menu:{}},members:{factory:function(b,c){return true;},empty:function(){return true;}}});})();(function(){var g="Unrecognized factory request: ",f="menu-button",e="table-column-reset-button",d="separator",c="user-button",b="qx.ui.table.columnmenu.Button",a="menu";qx.Class.define(b,{extend:qx.ui.form.MenuButton,implement:qx.ui.table.IColumnMenuButton,construct:function(){qx.ui.form.MenuButton.call(this);this.__jI=new qx.ui.core.Blocker(this);},members:{__ob:null,__jI:null,factory:function(h,j){switch(h){case a:var k=new qx.ui.menu.Menu();this.setMenu(k);return k;case f:var n=new qx.ui.table.columnmenu.MenuItem(j.text);n.setVisible(j.bVisible);this.getMenu().add(n);return n;case c:var m=new qx.ui.menu.Button(j.text);m.set({appearance:e});return m;case d:return new qx.ui.menu.Separator();default:throw new Error(g+h);};},getBlocker:function(){return this.__jI;},empty:function(){var o=this.getMenu();var p=o.getChildren();for(var i=0,l=p.length;i<l;i++){p[0].destroy();};}},destruct:function(){this.__jI.dispose();}});})();(function(){var a="qx.ui.table.pane.Clipper";qx.Class.define(a,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this,new qx.ui.layout.Grow());this.setMinWidth(0);},members:{scrollToX:function(b){this.getContentElement().scrollToX(b,false);},scrollToY:function(c){this.getContentElement().scrollToY(c,true);}}});})();(function(){var c="qx.ui.table.headerrenderer.Icon",b="String",a="";qx.Class.define(c,{extend:qx.ui.table.headerrenderer.Default,construct:function(d,e){qx.ui.table.headerrenderer.Default.call(this);if(d==null){d=a;};this.setIconUrl(d);if(e){this.setToolTip(e);};},properties:{iconUrl:{check:b,init:a}},members:{updateHeaderCell:function(f,g){qx.ui.table.headerrenderer.Default.prototype.updateHeaderCell.call(this,f,g);g.setIcon(this.getIconUrl());}}});})();(function(){var q="_applyStatusBarVisible",p="columnVisibilityMenuCreateStart",o="blur",n="qx.ui.table.Table",m="columnVisibilityMenuCreateEnd",k="changeVisible",h="_applyResetSelectionOnHeaderClick",g="_applyMetaColumnCounts",f="focus",e="changeDataRowRenderer",bH="changeHeaderCellHeight",bG="Escape",bF="A",bE="changeSelectionModel",bD="Left",bC="__nT",bB="Down",bA="Integer",bz="_applyHeaderCellHeight",by="visibilityChanged",y="qx.ui.table.ITableModel",z="orderChanged",v="_applySelectionModel",w="menu-button",t="menu",u="_applyAdditionalStatusBarText",r="_applyFocusCellOnMouseMove",s="table",G="_applyColumnVisibilityButtonVisible",H="changeTableModel",ba="qx.event.type.Event",V="tableWidthChanged",bi="_applyHeaderCellsVisible",bd="Object",bu="_applyShowCellFocusIndicator",bo="resize",O="verticalScrollBarChanged",bx="__oc",bw="changeScrollY",bv="_applyTableModel",M="End",R="_applyKeepFirstVisibleRowComplete",T="widthChanged",X="one of one row",bb="Home",be="_applyRowHeight",bk="F2",bq="Up",A="%1 rows",B="qx.ui.table.selection.Model",Q="one row",bh="PageDown",bg="%1 of %2 rows",bf="__iG",bm="keypress",bl="changeRowHeight",bc="Number",bj="__nU",a="__ob",bp="_applyContextMenuFromDataCellsOnly",C="qx.ui.table.IRowRenderer",D="Right",W="Space",b="function",d="PageUp",L="dataChanged",E="changeLocale",F="changeSelection",J="appear",Y="qx.dynlocale",bs='"',br="Enter",S="metaDataChanged",bt="header",N="__od",bn="qx.ui.table.pane.CellEvent",I="qx.event.type.Data",K="statusbar",c="column-button",U="Function",P="Boolean";qx.Class.define(n,{extend:qx.ui.core.Widget,construct:function(bI,bJ){qx.ui.core.Widget.call(this);if(!bJ){bJ={};};if(bJ.initiallyHiddenColumns){this.setInitiallyHiddenColumns(bJ.initiallyHiddenColumns);};if(bJ.selectionManager){this.setNewSelectionManager(bJ.selectionManager);};if(bJ.selectionModel){this.setNewSelectionModel(bJ.selectionModel);};if(bJ.tableColumnModel){this.setNewTableColumnModel(bJ.tableColumnModel);};if(bJ.tablePane){this.setNewTablePane(bJ.tablePane);};if(bJ.tablePaneHeader){this.setNewTablePaneHeader(bJ.tablePaneHeader);};if(bJ.tablePaneScroller){this.setNewTablePaneScroller(bJ.tablePaneScroller);};if(bJ.tablePaneModel){this.setNewTablePaneModel(bJ.tablePaneModel);};if(bJ.columnMenu){this.setNewColumnMenu(bJ.columnMenu);};this._setLayout(new qx.ui.layout.VBox());this.__nT=new qx.ui.container.Composite(new qx.ui.layout.HBox());this._add(this.__nT,{flex:1});this.setDataRowRenderer(new qx.ui.table.rowrenderer.Default(this));this.__nU=this.getNewSelectionManager()(this);this.setSelectionModel(this.getNewSelectionModel()(this));this.setTableModel(bI||this.getEmptyTableModel());this.setMetaColumnCounts([-1]);this.setTabIndex(1);this.addListener(bm,this._onKeyPress);this.addListener(f,this._onFocusChanged);this.addListener(o,this._onFocusChanged);var bK=new qx.ui.core.Widget().set({height:0});this._add(bK);bK.addListener(bo,this._onResize,this);this.__nV=null;this.__nW=null;if(qx.core.Environment.get(Y)){qx.locale.Manager.getInstance().addListener(E,this._onChangeLocale,this);};this.initStatusBarVisible();bI=this.getTableModel();if(bI.init&&typeof (bI.init)==b){bI.init(this);};},events:{"columnVisibilityMenuCreateStart":I,"columnVisibilityMenuCreateEnd":I,"tableWidthChanged":ba,"verticalScrollBarChanged":I,"cellClick":bn,"cellDblclick":bn,"cellContextmenu":bn,"dataEdited":I},statics:{__nX:{cellClick:1,cellDblclick:1,cellContextmenu:1}},properties:{appearance:{refine:true,init:s},focusable:{refine:true,init:true},minWidth:{refine:true,init:50},initiallyHiddenColumns:{init:null},selectable:{refine:true,init:false},selectionModel:{check:B,apply:v,event:bE},tableModel:{check:y,apply:bv,event:H},rowHeight:{check:bc,init:20,apply:be,event:bl,themeable:true},forceLineHeight:{check:P,init:true},headerCellsVisible:{check:P,init:true,apply:bi,themeable:true},headerCellHeight:{check:bA,init:16,apply:bz,event:bH,nullable:true,themeable:true},statusBarVisible:{check:P,init:true,apply:q},additionalStatusBarText:{nullable:true,init:null,apply:u},columnVisibilityButtonVisible:{check:P,init:true,apply:G,themeable:true},metaColumnCounts:{check:bd,apply:g},focusCellOnMouseMove:{check:P,init:false,apply:r},rowFocusChangeModifiesSelection:{check:P,init:true},showCellFocusIndicator:{check:P,init:true,apply:bu},contextMenuFromDataCellsOnly:{check:P,init:true,apply:bp},keepFirstVisibleRowComplete:{check:P,init:true,apply:R},alwaysUpdateCells:{check:P,init:false},resetSelectionOnHeaderClick:{check:P,init:true,apply:h},dataRowRenderer:{check:C,init:null,nullable:true,event:e},modalCellEditorPreOpenFunction:{check:U,init:null,nullable:true},newColumnMenu:{check:U,init:function(){return new qx.ui.table.columnmenu.Button();}},newSelectionManager:{check:U,init:function(bL){return new qx.ui.table.selection.Manager(bL);}},newSelectionModel:{check:U,init:function(bM){return new qx.ui.table.selection.Model(bM);}},newTableColumnModel:{check:U,init:function(bN){return new qx.ui.table.columnmodel.Basic(bN);}},newTablePane:{check:U,init:function(bO){return new qx.ui.table.pane.Pane(bO);}},newTablePaneHeader:{check:U,init:function(bP){return new qx.ui.table.pane.Header(bP);}},newTablePaneScroller:{check:U,init:function(bQ){return new qx.ui.table.pane.Scroller(bQ);}},newTablePaneModel:{check:U,init:function(bR){return new qx.ui.table.pane.Model(bR);}}},members:{__nV:null,__nW:null,__nT:null,__nU:null,__nY:null,__oa:null,__mV:null,__ob:null,__oc:null,__od:null,__oe:null,__iG:null,_createChildControlImpl:function(bS,bT){var bU;switch(bS){case K:bU=new qx.ui.basic.Label();bU.set({allowGrowX:true});this._add(bU);break;case c:bU=this.getNewColumnMenu()();bU.set({focusable:false});var bV=bU.factory(t,{table:this});bV.addListener(J,this._initColumnMenu,this);break;};return bU||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bS);},_applySelectionModel:function(bW,bX){this.__nU.setSelectionModel(bW);if(bX!=null){bX.removeListener(F,this._onSelectionChanged,this);};bW.addListener(F,this._onSelectionChanged,this);},_applyRowHeight:function(bY,ca){var cb=this._getPaneScrollerArr();for(var i=0;i<cb.length;i++){cb[i].updateVerScrollBarMaximum();};},_applyHeaderCellsVisible:function(cc,cd){var ce=this._getPaneScrollerArr();for(var i=0;i<ce.length;i++){if(cc){ce[i]._showChildControl(bt);}else {ce[i]._excludeChildControl(bt);};};if(this.getColumnVisibilityButtonVisible()){this._applyColumnVisibilityButtonVisible(cc);};},_applyHeaderCellHeight:function(cf,cg){var ch=this._getPaneScrollerArr();for(var i=0;i<ch.length;i++){ch[i].getHeader().setHeight(cf);};},getEmptyTableModel:function(){if(!this.__od){this.__od=new qx.ui.table.model.Simple();this.__od.setColumns([]);this.__od.setData([]);};return this.__od;},_applyTableModel:function(ci,cj){this.getTableColumnModel().init(ci.getColumnCount(),this);if(cj!=null){cj.removeListener(S,this._onTableModelMetaDataChanged,this);cj.removeListener(L,this._onTableModelDataChanged,this);};ci.addListener(S,this._onTableModelMetaDataChanged,this);ci.addListener(L,this._onTableModelDataChanged,this);this._updateStatusBar();this._updateTableData(0,ci.getRowCount(),0,ci.getColumnCount());this._onTableModelMetaDataChanged();if(cj&&ci.init&&typeof (ci.init)==b){ci.init(this);};},getTableColumnModel:function(){if(!this.__oc){var cm=this.__oc=this.getNewTableColumnModel()(this);cm.addListener(by,this._onColVisibilityChanged,this);cm.addListener(T,this._onColWidthChanged,this);cm.addListener(z,this._onColOrderChanged,this);var cl=this.getTableModel();cm.init(cl.getColumnCount(),this);var ck=this._getPaneScrollerArr();for(var i=0;i<ck.length;i++){var cn=ck[i];var co=cn.getTablePaneModel();co.setTableColumnModel(cm);};};return this.__oc;},_applyStatusBarVisible:function(cp,cq){if(cp){this._showChildControl(K);}else {this._excludeChildControl(K);};if(cp){this._updateStatusBar();};},_applyAdditionalStatusBarText:function(cr,cs){this.__nY=cr;this._updateStatusBar();},_applyColumnVisibilityButtonVisible:function(ct,cu){if(ct){this._showChildControl(c);}else {this._excludeChildControl(c);};},_applyMetaColumnCounts:function(cv,cw){var cD=cv;var cx=this._getPaneScrollerArr();var cB={};if(cv>cw){var cF=qx.event.Registration.getManager(cx[0]);for(var cG in qx.ui.table.Table.__nX){cB[cG]={};cB[cG].capture=cF.getListeners(cx[0],cG,true);cB[cG].bubble=cF.getListeners(cx[0],cG,false);};};this._cleanUpMetaColumns(cD.length);var cC=0;for(var i=0;i<cx.length;i++){var cH=cx[i];var cE=cH.getTablePaneModel();cE.setFirstColumnX(cC);cE.setMaxColumnCount(cD[i]);cC+=cD[i];};if(cD.length>cx.length){var cA=this.getTableColumnModel();for(var i=cx.length;i<cD.length;i++){var cE=this.getNewTablePaneModel()(cA);cE.setFirstColumnX(cC);cE.setMaxColumnCount(cD[i]);cC+=cD[i];var cH=this.getNewTablePaneScroller()(this);cH.setTablePaneModel(cE);cH.addListener(bw,this._onScrollY,this);for(cG in qx.ui.table.Table.__nX){if(!cB[cG]){break;};if(cB[cG].capture&&cB[cG].capture.length>0){var cy=cB[cG].capture;for(var j=0;j<cy.length;j++){var cz=cy[j].context;if(!cz){cz=this;}else if(cz==cx[0]){cz=cH;};cH.addListener(cG,cy[j].handler,cz,true);};};if(cB[cG].bubble&&cB[cG].bubble.length>0){var cJ=cB[cG].bubble;for(var j=0;j<cJ.length;j++){var cz=cJ[j].context;if(!cz){cz=this;}else if(cz==cx[0]){cz=cH;};cH.addListener(cG,cJ[j].handler,cz,false);};};};var cI=(i==cD.length-1)?1:0;this.__nT.add(cH,{flex:cI});cx=this._getPaneScrollerArr();};};for(var i=0;i<cx.length;i++){var cH=cx[i];var cK=(i==(cx.length-1));cH.getHeader().setHeight(this.getHeaderCellHeight());cH.setTopRightWidget(cK?this.getChildControl(c):null);};if(!this.isColumnVisibilityButtonVisible()){this._excludeChildControl(c);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_applyFocusCellOnMouseMove:function(cL,cM){var cN=this._getPaneScrollerArr();for(var i=0;i<cN.length;i++){cN[i].setFocusCellOnMouseMove(cL);};},_applyShowCellFocusIndicator:function(cO,cP){var cQ=this._getPaneScrollerArr();for(var i=0;i<cQ.length;i++){cQ[i].setShowCellFocusIndicator(cO);};},_applyContextMenuFromDataCellsOnly:function(cR,cS){var cT=this._getPaneScrollerArr();for(var i=0;i<cT.length;i++){cT[i].setContextMenuFromDataCellsOnly(cR);};},_applyKeepFirstVisibleRowComplete:function(cU,cV){var cW=this._getPaneScrollerArr();for(var i=0;i<cW.length;i++){cW[i].onKeepFirstVisibleRowCompleteChanged();};},_applyResetSelectionOnHeaderClick:function(cX,cY){var da=this._getPaneScrollerArr();for(var i=0;i<da.length;i++){da[i].setResetSelectionOnHeaderClick(cX);};},getSelectionManager:function(){return this.__nU;},_getPaneScrollerArr:function(){return this.__nT.getChildren();},getPaneScroller:function(db){return this._getPaneScrollerArr()[db];},_cleanUpMetaColumns:function(dc){var dd=this._getPaneScrollerArr();if(dd!=null){for(var i=dd.length-1;i>=dc;i--){dd[i].destroy();};};},_onChangeLocale:function(de){this.updateContent();this._updateStatusBar();},_onSelectionChanged:function(df){var dg=this._getPaneScrollerArr();for(var i=0;i<dg.length;i++){dg[i].onSelectionChanged();};this._updateStatusBar();},_onTableModelMetaDataChanged:function(dh){var di=this._getPaneScrollerArr();for(var i=0;i<di.length;i++){di[i].onTableModelMetaDataChanged();};this._updateStatusBar();},_onTableModelDataChanged:function(dj){var dk=dj.getData();this._updateTableData(dk.firstRow,dk.lastRow,dk.firstColumn,dk.lastColumn,dk.removeStart,dk.removeCount);},_updateTableData:function(dl,dm,dn,dp,dq,dr){var ds=this._getPaneScrollerArr();if(dr){this.getSelectionModel().removeSelectionInterval(dq,dq+dr);if(this.__nW>=dq&&this.__nW<(dq+dr)){this.setFocusedCell();};};for(var i=0;i<ds.length;i++){ds[i].onTableModelDataChanged(dl,dm,dn,dp);};var dt=this.getTableModel().getRowCount();if(dt!=this.__oa){this.__oa=dt;this._updateScrollBarVisibility();this._updateStatusBar();};},_onScrollY:function(du){if(!this.__mV){this.__mV=true;var dv=this._getPaneScrollerArr();for(var i=0;i<dv.length;i++){dv[i].setScrollY(du.getData());};this.__mV=false;};},_onKeyPress:function(dw){if(!this.getEnabled()){return;};var dD=this.__nW;var dA=true;var dE=dw.getKeyIdentifier();if(this.isEditing()){if(dw.getModifiers()==0){switch(dE){case br:this.stopEditing();var dD=this.__nW;this.moveFocusedCell(0,1);if(this.__nW!=dD){dA=this.startEditing();};break;case bG:this.cancelEditing();this.focus();break;default:dA=false;break;};};}else {if(dw.isCtrlPressed()){dA=true;switch(dE){case bF:var dB=this.getTableModel().getRowCount();if(dB>0){this.getSelectionModel().setSelectionInterval(0,dB-1);};break;default:dA=false;break;};}else {switch(dE){case W:this.__nU.handleSelectKeyDown(this.__nW,dw);break;case bk:case br:this.startEditing();dA=true;break;case bb:this.setFocusedCell(this.__nV,0,true);break;case M:var dB=this.getTableModel().getRowCount();this.setFocusedCell(this.__nV,dB-1,true);break;case bD:this.moveFocusedCell(-1,0);break;case D:this.moveFocusedCell(1,0);break;case bq:this.moveFocusedCell(0,-1);break;case bB:this.moveFocusedCell(0,1);break;case d:case bh:var dz=this.getPaneScroller(0);var dC=dz.getTablePane();var dy=this.getRowHeight();var dx=(dE==d)?-1:1;dB=dC.getVisibleRowCount()-1;dz.setScrollY(dz.getScrollY()+dx*dB*dy);this.moveFocusedCell(0,dx*dB);break;default:dA=false;};};};if(dD!=this.__nW&&this.getRowFocusChangeModifiesSelection()){this.__nU.handleMoveKeyDown(this.__nW,dw);};if(dA){dw.preventDefault();dw.stopPropagation();};},_onFocusChanged:function(dF){var dG=this._getPaneScrollerArr();for(var i=0;i<dG.length;i++){dG[i].onFocusChanged();};},_onColVisibilityChanged:function(dH){var dI=this._getPaneScrollerArr();for(var i=0;i<dI.length;i++){dI[i].onColVisibilityChanged();};var dJ=dH.getData();if(this.__ob!=null&&dJ.col!=null&&dJ.visible!=null){this.__ob[dJ.col].setVisible(dJ.visible);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColWidthChanged:function(dK){var dL=this._getPaneScrollerArr();for(var i=0;i<dL.length;i++){var dM=dK.getData();dL[i].setColumnWidth(dM.col,dM.newWidth);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColOrderChanged:function(dN){var dO=this._getPaneScrollerArr();for(var i=0;i<dO.length;i++){dO[i].onColOrderChanged();};this._updateScrollerWidths();this._updateScrollBarVisibility();},getTablePaneScrollerAtPageX:function(dP){var dQ=this._getMetaColumnAtPageX(dP);return (dQ!=-1)?this.getPaneScroller(dQ):null;},setFocusedCell:function(dR,dS,dT){if(!this.isEditing()&&(dR!=this.__nV||dS!=this.__nW)){if(dR===null){dR=0;};this.__nV=dR;this.__nW=dS;var dU=this._getPaneScrollerArr();for(var i=0;i<dU.length;i++){dU[i].setFocusedCell(dR,dS);};if(dR!==null&&dT){this.scrollCellVisible(dR,dS);};};},resetSelection:function(){this.getSelectionModel().resetSelection();},resetCellFocus:function(){this.setFocusedCell(null,null,false);},getFocusedColumn:function(){return this.__nV;},getFocusedRow:function(){return this.__nW;},highlightFocusedRow:function(dV){this.getDataRowRenderer().setHighlightFocusRow(dV);},clearFocusedRowHighlight:function(dW){if(dW){var dY=dW.getRelatedTarget();if(dY instanceof qx.ui.table.pane.Pane||dY instanceof qx.ui.table.pane.FocusIndicator){return;};};this.resetCellFocus();var dX=this._getPaneScrollerArr();for(var i=0;i<dX.length;i++){dX[i].onFocusChanged();};},moveFocusedCell:function(ea,eb){var ef=this.__nV;var eg=this.__nW;if(ef==null||eg==null){return;};if(ea!=0){var ee=this.getTableColumnModel();var x=ee.getVisibleX(ef);var ed=ee.getVisibleColumnCount();x=qx.lang.Number.limit(x+ea,0,ed-1);ef=ee.getVisibleColumnAtX(x);};if(eb!=0){var ec=this.getTableModel();eg=qx.lang.Number.limit(eg+eb,0,ec.getRowCount()-1);};this.setFocusedCell(ef,eg,true);},scrollCellVisible:function(eh,ei){var ej=this.getContentElement().getDomElement();if(!ej){this.addListenerOnce(J,function(){this.scrollCellVisible(eh,ei);},this);};var ek=this.getTableColumnModel();var x=ek.getVisibleX(eh);var el=this._getMetaColumnAtColumnX(x);if(el!=-1){this.getPaneScroller(el).scrollCellVisible(eh,ei);};},isEditing:function(){if(this.__nV!=null){var x=this.getTableColumnModel().getVisibleX(this.__nV);var em=this._getMetaColumnAtColumnX(x);return this.getPaneScroller(em).isEditing();};return false;},startEditing:function(){if(this.__nV!=null){var x=this.getTableColumnModel().getVisibleX(this.__nV);var eo=this._getMetaColumnAtColumnX(x);var en=this.getPaneScroller(eo).startEditing();return en;};return false;},stopEditing:function(){if(this.__nV!=null){var x=this.getTableColumnModel().getVisibleX(this.__nV);var ep=this._getMetaColumnAtColumnX(x);this.getPaneScroller(ep).stopEditing();};},cancelEditing:function(){if(this.__nV!=null){var x=this.getTableColumnModel().getVisibleX(this.__nV);var eq=this._getMetaColumnAtColumnX(x);this.getPaneScroller(eq).cancelEditing();};},updateContent:function(){var er=this._getPaneScrollerArr();for(var i=0;i<er.length;i++){er[i].getTablePane().updateContent(true);};},blockHeaderElements:function(){var es=this._getPaneScrollerArr();for(var i=0;i<es.length;i++){es[i].getHeader().getBlocker().blockContent(20);};this.getChildControl(c).getBlocker().blockContent(20);},unblockHeaderElements:function(){var et=this._getPaneScrollerArr();for(var i=0;i<et.length;i++){et[i].getHeader().getBlocker().unblockContent();};this.getChildControl(c).getBlocker().unblockContent();},_getMetaColumnAtPageX:function(eu){var ev=this._getPaneScrollerArr();for(var i=0;i<ev.length;i++){var ew=ev[i].getContainerLocation();if(eu>=ew.left&&eu<=ew.right){return i;};};return -1;},_getMetaColumnAtColumnX:function(ex){var ez=this.getMetaColumnCounts();var eA=0;for(var i=0;i<ez.length;i++){var ey=ez[i];eA+=ey;if(ey==-1||ex<eA){return i;};};return -1;},_updateStatusBar:function(){var eB=this.getTableModel();if(this.getStatusBarVisible()){var eC=this.getSelectionModel().getSelectedCount();var eE=eB.getRowCount();var eD;if(eE>=0){if(eC==0){eD=this.trn(Q,A,eE,eE);}else {eD=this.trn(X,bg,eE,eC,eE);};};if(this.__nY){if(eD){eD+=this.__nY;}else {eD=this.__nY;};};if(eD){this.getChildControl(K).setValue(eD);};};},_updateScrollerWidths:function(){var eF=this._getPaneScrollerArr();for(var i=0;i<eF.length;i++){var eH=(i==(eF.length-1));var eI=eF[i].getTablePaneModel().getTotalWidth();eF[i].setPaneWidth(eI);var eG=eH?1:0;eF[i].setLayoutProperties({flex:eG});};},_updateScrollBarVisibility:function(){if(!this.getBounds()){return;};var eM=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var eO=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;var eJ=this._getPaneScrollerArr();var eL=false;var eN=false;for(var i=0;i<eJ.length;i++){var eP=(i==(eJ.length-1));var eK=eJ[i].getNeededScrollBars(eL,!eP);if(eK&eM){eL=true;};if(eP&&(eK&eO)){eN=true;};};for(var i=0;i<eJ.length;i++){var eP=(i==(eJ.length-1));eJ[i].setHorizontalScrollBarVisible(eL);if(eP){if(this.__oe==null){this.__oe=eJ[i].getVerticalScrollBarVisible();this.__iG=qx.event.Timer.once(function(){this.__oe=null;this.__iG=null;},this,0);};};eJ[i].setVerticalScrollBarVisible(eP&&eN);if(eP&&eN!=this.__oe){this.fireDataEvent(O,eN);};};},_initColumnMenu:function(){var eS=this.getTableModel();var eT=this.getTableColumnModel();var eU=this.getChildControl(c);eU.empty();var eR=eU.getMenu();var eV={table:this,menu:eR,columnButton:eU};this.fireDataEvent(p,eV);this.__ob={};for(var eW=0,l=eS.getColumnCount();eW<l;eW++){var eQ=eU.factory(w,{text:eS.getColumnName(eW),column:eW,bVisible:eT.isColumnVisible(eW)});qx.core.Assert.assertInterface(eQ,qx.ui.table.IColumnMenuItem);eQ.addListener(k,this._createColumnVisibilityCheckBoxHandler(eW),this);this.__ob[eW]=eQ;};eV={table:this,menu:eR,columnButton:eU};this.fireDataEvent(m,eV);},_createColumnVisibilityCheckBoxHandler:function(eX){return function(eY){var fa=this.getTableColumnModel();fa.setColumnVisible(eX,eY.getData());};},setColumnWidth:function(fb,fc){this.getTableColumnModel().setColumnWidth(fb,fc);},_onResize:function(){this.fireEvent(V);this._updateScrollerWidths();this._updateScrollBarVisibility();},addListener:function(fd,fe,self,ff){if(this.self(arguments).__nX[fd]){var fh=[fd];for(var i=0,fg=this._getPaneScrollerArr();i<fg.length;i++){fh.push(fg[i].addListener.apply(fg[i],arguments));};return fh.join(bs);}else {return qx.ui.core.Widget.prototype.addListener.call(this,fd,fe,self,ff);};},removeListener:function(fi,fj,self,fk){if(this.self(arguments).__nX[fi]){for(var i=0,fl=this._getPaneScrollerArr();i<fl.length;i++){fl[i].removeListener.apply(fl[i],arguments);};}else {qx.ui.core.Widget.prototype.removeListener.call(this,fi,fj,self,fk);};},removeListenerById:function(fm){var fq=fm.split(bs);var fp=fq.shift();if(this.self(arguments).__nX[fp]){var fo=true;for(var i=0,fn=this._getPaneScrollerArr();i<fn.length;i++){fo=fn[i].removeListenerById.call(fn[i],fq[i])&&fo;};return fo;}else {return qx.ui.core.Widget.prototype.removeListenerById.call(this,fm);};},destroy:function(){this.getChildControl(c).getMenu().destroy();qx.ui.core.Widget.prototype.destroy.call(this);}},destruct:function(){if(qx.core.Environment.get(Y)){qx.locale.Manager.getInstance().removeListener(E,this._onChangeLocale,this);};var fs=this.getSelectionModel();if(fs){fs.dispose();};var fr=this.getDataRowRenderer();if(fr){fr.dispose();};this._cleanUpMetaColumns(0);this.getTableColumnModel().dispose();this._disposeObjects(bj,bC,N,N,bx,bf);this._disposeMap(a);}});})();(function(){var b="qx.ui.table.selection.Model",a="qx.ui.table.selection.Manager";qx.Class.define(a,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);},properties:{selectionModel:{check:b}},members:{__oE:null,handleMouseDown:function(c,d){if(d.isLeftPressed()){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){this._handleSelectEvent(c,d);this.__oE=true;}else {this.__oE=false;};}else if(d.isRightPressed()&&d.getModifiers()==0){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){e.setSelectionInterval(c,c);};};},handleMouseUp:function(f,g){if(g.isLeftPressed()&&!this.__oE){this._handleSelectEvent(f,g);};},handleClick:function(h,i){},handleSelectKeyDown:function(j,k){this._handleSelectEvent(j,k);},handleMoveKeyDown:function(l,m){var o=this.getSelectionModel();switch(m.getModifiers()){case 0:o.setSelectionInterval(l,l);break;case qx.event.type.Dom.SHIFT_MASK:var n=o.getAnchorSelectionIndex();if(n==-1){o.setSelectionInterval(l,l);}else {o.setSelectionInterval(n,l);};break;};},_handleSelectEvent:function(p,q){var t=this.getSelectionModel();var r=t.getLeadSelectionIndex();var s=t.getAnchorSelectionIndex();if(q.isShiftPressed()){if(p!=r||t.isSelectionEmpty()){if(s==-1){s=p;};if(q.isCtrlOrCommandPressed()){t.addSelectionInterval(s,p);}else {t.setSelectionInterval(s,p);};};}else if(q.isCtrlOrCommandPressed()){if(t.isSelectedIndex(p)){t.removeSelectionInterval(p,p);}else {t.addSelectionInterval(p,p);};}else {t.setSelectionInterval(p,p);};}}});})();
});