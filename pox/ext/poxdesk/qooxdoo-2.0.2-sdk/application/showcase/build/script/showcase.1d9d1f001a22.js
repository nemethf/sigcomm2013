qx.$$packageData['16']={"locales":{},"resources":{},"translations":{"de":{},"de_AT":{},"de_DE":{},"en":{},"en_GB":{},"en_US":{},"es":{},"es_ES":{},"es_MX":{},"ro":{},"ro_RO":{},"sv":{},"sv_SE":{}}};
qx.Part.$$notifyLoad("16", function() {
(function(){var q="operation",p="waitForNumber",o="changeErrorMessage",n="The view and model cannot be changed!",m="number",l="showcase.page.theme.calc.view.ICalculator",k="changeValue",j="showcase.page.theme.calc.Presenter",i="changeState",h="changeInput",c="buttonPress",g="operator",f="error",b="_applyViewModel",a="memory",d="";qx.Class.define(j,{extend:qx.core.Object,construct:function(r,s){qx.core.Object.call(this);this.setView(r);this.setModel(s);},properties:{view:{check:l,apply:b},model:{apply:b,init:null}},members:{MAX_DISPLAY_SIZE:16,_applyViewModel:function(t,u){if(u){throw new Error(n);};var v=this.getModel();var w=this.getView();if(!v||!w){return;};this.__uA();this.__uB();},__uA:function(){this.getView().addListener(c,this._onButtonPress,this);},_onButtonPress:function(e){this.getModel().readToken(e.getData());},__uB:function(){var x=this.getModel();x.setMaxInputLength(this.MAX_DISPLAY_SIZE);var y=this.getView();x.bind(g,y,q,{converter:function(z){return z?z:d;}});x.bind(a,y,a,{converter:function(A){return A===null?false:true;}});x.addListener(i,this._updateDisplay,this);x.addListener(h,this._updateDisplay,this);x.addListener(k,this._updateDisplay,this);x.addListener(o,this._updateDisplay,this);},_updateDisplay:function(e){var B;var C=this.getModel();switch(this.getModel().getState()){case m:B=C.getInput();break;case p:B=C.getValue()+d;if(B.length>this.MAX_DISPLAY_SIZE){B=C.getValue().toExponential(this.MAX_DISPLAY_SIZE-7);};break;case f:B=C.getErrorMessage();break;};this.getView().setDisplay(B||d);}}});})();(function(){var p="dblclick",o="perspective(600) rotateY(90deg)",n="perspective(600) rotateY(0deg)",m="perspective(600) rotateY(180deg)",l="-webkit-transform 0.3s ease-in",k="#525252",j="perspective(600) rotateY(360deg)",i="WebkitTransition",h="-webkit-transform 0.3s ease-out",g="perspective(600) rotateY(270deg)",c="showcase/theme/affe.png",f="showcase.page.theme.Content",d="Calculator",b="",a="webkitTransitionEnd";qx.Class.define(f,{extend:showcase.AbstractContent,construct:function(q){showcase.AbstractContent.call(this,q);this.setView(this._createView());},members:{_createView:function(){var t=new qx.ui.window.Desktop(new qx.ui.window.Manager());var s=new showcase.page.theme.calc.view.Calculator(true);t.add(s);s.moveTo(60,40);s.open();var r=new showcase.page.theme.calc.Model();new showcase.page.theme.calc.Presenter(s,r);var s=new showcase.page.theme.calc.view.Calculator(false);t.add(s);s.moveTo(340,40);s.open();var r=new showcase.page.theme.calc.Model();new showcase.page.theme.calc.Presenter(s,r);this.__uz(s);return t;},__uz:function(u){if(!(i in document.documentElement.style)){return;};var w=true;var v=new qx.ui.basic.Image(c).set({backgroundColor:k,padding:[50,5,5,0]});u.addListener(p,function(e){var x=u.getContainerElement().getDomElement();x.style.WebkitTransition=l;if(w){x.style.WebkitTransform=o;}else {x.style.WebkitTransform=g;};x.addEventListener(a,function(){x.removeEventListener(a,arguments.callee,false);if(w){var y=u.getChildrenContainer().getBounds();v.setUserBounds(0,0,y.width,y.height);u.add(v);u.setCaption(b);}else {u.remove(v);u.setCaption(d);};qx.ui.core.queue.Manager.flush();x.style.WebkitTransition=h;if(w){x.style.WebkitTransform=m;}else {x.style.WebkitTransform=j;x.addEventListener(a,function(){x.removeEventListener(a,arguments.callee,false);x.style.WebkitTransition=b;x.style.WebkitTransform=n;},false);};w=!w;},false);});}}});})();(function(){var d="String",c="Boolean",b="showcase.page.theme.calc.view.ICalculator",a="qx.event.type.Data";qx.Interface.define(b,{events:{"buttonPress":a},properties:{display:{},memory:{check:c},operation:{check:d}}});})();(function(){var k="Boolean",j="_buttons",i="keydown",h="button",g="qx.event.type.Data",f="modern-calculator",d="showcase.page.theme.calc.view.Calculator",c="changeOperation",b="execute",a="calculator",P="/",O="String",N="&divide;",M="",L="Calculator",K="buttonPress",J="keyup",I="changeDisplay",H="keypress",G="Enter",r="=",s="changeMemory",p="_keyIdentifier",q="&plusmn;",n="-",o="operation",l="+",m="7",t="5",u="memory",y="3",x="2",A="8",z="*",C="6",B="4",w="1",F=".",E="9",D="0",v="display";qx.Class.define(d,{extend:qx.ui.window.Window,implement:[showcase.page.theme.calc.view.ICalculator],construct:function(Q){qx.ui.window.Window.call(this,L);this._isModern=!!Q;if(this._isModern){this.setAppearance(f);};this.set({showMinimize:false,showMaximize:false,allowMaximize:false,showClose:false});this.setLayout(new qx.ui.layout.VBox());this._initButtons();this.add(this.getChildControl(v));this.add(this._createButtonContainer(),{flex:1});this._initKeyIdentifier();this.addListener(i,this._onKeyDown,this);this.addListener(J,this._onKeyUp,this);this.addListener(H,this._onKeyPress,this);},events:{"buttonPress":g},properties:{appearance:{refine:true,init:a},display:{init:D,event:I},memory:{check:k,init:false,event:s},operation:{check:O,init:M,event:c}},members:{_buttons:null,_keyIdentifier:null,_pressedButton:null,_initButtons:function(){this._buttons={"MC":new showcase.page.theme.calc.view.Button("MC",0,0),"M+":new showcase.page.theme.calc.view.Button("M+",0,1),"M-":new showcase.page.theme.calc.view.Button("M-",0,2),"MR":new showcase.page.theme.calc.view.Button("MR",0,3),"C":new showcase.page.theme.calc.view.Button("C",1,0),"sign":new showcase.page.theme.calc.view.Button(q,1,1),"/":new showcase.page.theme.calc.view.Button(N,1,2,null,null,P),"*":new showcase.page.theme.calc.view.Button(z,1,3,null,null,z),"7":new showcase.page.theme.calc.view.Button(m,2,0,null,null,m),"8":new showcase.page.theme.calc.view.Button(A,2,1,null,null,A),"9":new showcase.page.theme.calc.view.Button(E,2,2,null,null,E),"-":new showcase.page.theme.calc.view.Button(n,2,3,null,null,n),"4":new showcase.page.theme.calc.view.Button(B,3,0,null,null,B),"5":new showcase.page.theme.calc.view.Button(t,3,1,null,null,t),"6":new showcase.page.theme.calc.view.Button(C,3,2,null,null,C),"+":new showcase.page.theme.calc.view.Button(l,3,3,null,null,l),"1":new showcase.page.theme.calc.view.Button(w,4,0,null,null,w),"2":new showcase.page.theme.calc.view.Button(x,4,1,null,null,x),"3":new showcase.page.theme.calc.view.Button(y,4,2,null,null,y),"=":new showcase.page.theme.calc.view.Button(r,4,3,2,null,G),"0":new showcase.page.theme.calc.view.Button(D,5,0,null,2,D),".":new showcase.page.theme.calc.view.Button(F,5,2,null,null,F)};if(this._isModern){for(var R in this._buttons){this._buttons[R].setAppearance(h);};};},_initKeyIdentifier:function(){this._keyIdentifier=[];for(var name in this._buttons){var S=this._buttons[name];var T=S.getKeyIdentifier();S.addListener(b,this._onButtonExecute,this);if(T){this._keyIdentifier[T]=S;};};},_createChildControlImpl:function(U){if(U===v){var V=new showcase.page.theme.calc.view.Display();this.bind(v,V,v);this.bind(u,V,u);this.bind(o,V,o);return V;}else {return qx.ui.window.Window.prototype._createChildControlImpl.call(this,U);};},_createButtonContainer:function(){var X=new qx.ui.container.Composite();var W=new qx.ui.layout.Grid(5,5);X.setLayout(W);for(var ba=0;ba<6;ba++){W.setRowFlex(ba,1);};for(var Y=0;Y<6;Y++){W.setColumnFlex(Y,1);};for(var name in this._buttons){X.add(this._buttons[name]);};return X;},_onButtonExecute:function(e){var name=qx.lang.Object.getKeyFromValue(this._buttons,e.getTarget());this.fireDataEvent(K,name);},_onKeyDown:function(e){var bb=this._keyIdentifier[e.getKeyIdentifier()];if(!bb){return;};bb.press();if(this._pressedButton&&this._pressedButton!==bb){this._pressedButton.release();};this._pressedButton=bb;e.stop();},_onKeyUp:function(e){var bc=this._keyIdentifier[e.getKeyIdentifier()];if(!bc){return;};bc.release();e.stop();},_onKeyPress:function(e){var bd=this._keyIdentifier[e.getKeyIdentifier()];if(!bd){return;};bd.execute();e.stop();}},destruct:function(){this._disposeMap(j);this._disposeArray(p);}});})();(function(){var m="M",l="0",k="Boolean",j="",i="showcase.page.theme.calc.view.Display",h="_applyOperation",g="_applyDisplay",f="_applyMemory",e="String",d="display",a="operation",c="label",b="memory";qx.Class.define(i,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Canvas());this._add(this.getChildControl(c),{top:0,right:0});this._add(this.getChildControl(b),{bottom:0,left:0});this._add(this.getChildControl(a),{bottom:0,left:0});},properties:{appearance:{refine:true,init:d},display:{init:l,apply:g},memory:{check:k,init:false,apply:f},operation:{check:e,init:j,apply:h}},members:{_createChildControlImpl:function(n){var o;switch(n){case c:o=new qx.ui.basic.Label(this.getDisplay());break;case b:o=new qx.ui.basic.Label(m);o.exclude();break;case a:o=new qx.ui.basic.Label(this.getOperation());o.setRich(true);break;};return o||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,n);},_applyDisplay:function(p,q){this.getChildControl(c).setValue(p.toString());},_applyMemory:function(r,s){if(r){this._showChildControl(b);}else {this._excludeChildControl(b);};},_applyOperation:function(t,u){this.getChildControl(a).setValue(t.toString());}}});})();(function(){var j="C",i="showcase.page.theme.calc.Model",h="changeValue",g="changeInput",f="Integer",e="MC",d="sign",c="Division by zero!",b="_applyState",a="changeState",D="",C="MR",B="changeOperator",A="M-",z="changeErrorMessage",y="=",x="changeMemory",w="changeOperant",v="M+",u="+",q="/",r="String",o="*",p="Number",m=".",n="-",k="error",l="waitForNumber",s="0",t="number";qx.Class.define(i,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.initState();},properties:{state:{check:[t,l,k],event:a,init:t,apply:b},errorMessage:{check:r,init:D,event:z},input:{check:r,nullable:true,event:g},maxInputLength:{check:f,init:20},operator:{check:[u,n,o,q],nullable:true,event:B},operant:{check:p,nullable:true,event:w},value:{check:p,nullable:true,event:h},memory:{check:p,nullable:true,event:x}},members:{readToken:function(E){if(E.match(/^[0123456789]$/)){this.__uE(E);}else if(E.match(/^[\+\-\*\/]$/)){this.__uH(E);}else if(E==d){this.__uF();}else if(E==m){this.__uG();}else if(E==y){this.__uI();}else if(E==j){this.__uJ();}else if(E==v){this.__uK(E);}else if(E==A){this.__uK(E);}else if(E==e){this.__uM();}else if(E==C){this.__uL();};;;;;;;;;},__uC:function(){return parseFloat(this.getInput());},__uD:function(F,G,H){switch(H){case u:return F+G;case n:return F-G;case o:return F*G;case q:if(G==0){this.setErrorMessage(c);this.setState(k);return null;}else {return F/G;};};},_applyState:function(I,J){if(I==t){this.setInput(s);}else if(I==k){this.setOperator(null);};},__uE:function(K){this.setState(t);var L=this.getInput();if(L.length>=this.getMaxInputLength()-1){return;};if(K==s){if(L!==s){L+=s;};}else {if(L==s){L=K;}else {L+=K;};};this.setInput(L);},__uF:function(){this.setState(t);var M=this.getInput();if(M==s){return;};var N=M.charAt(0)==n;if(N){M=M.substr(1);}else {M=n+M;};this.setInput(M);},__uG:function(){this.setState(t);var O=this.getInput();if(O.length>=this.getMaxInputLength()-1){return;};var P=O.indexOf(m)!==-1;if(!P){O+=m;};this.setInput(O);},__uH:function(Q){var S=this.getState();if(S==k){return;}else if(S==l){this.setOperator(Q);return;};this.setState(l);var R=this.__uC();var T=this.getValue();if(T!==null){this.setValue(this.__uD(T,R,this.getOperator()));}else {this.setValue(R);};this.setOperant(R);this.setOperator(Q);},__uI:function(){var U=this.getOperator();if(!U){return;};var W=this.getValue();if(this.getState()==l){this.setValue(this.__uD(W,this.getOperant(),U));return;};this.setState(l);var V=this.__uC();this.setOperant(V);this.setValue(this.__uD(W,V,U));},__uJ:function(){this.setState(t);this.setOperator(null);this.setValue(null);this.setInput(s);},__uK:function(X){var Y=this.getState();var ba;if(Y==k){return;}else if(Y==l){ba=this.getValue();}else {ba=this.__uC();};var bb=this.getMemory()||0;if(X==v){this.setMemory(bb+ba);}else {this.setMemory(bb-ba);};},__uL:function(){var bc=this.getMemory();if(bc==null){return;};this.setState(t);this.setInput(bc.toString());},__uM:function(){this.setMemory(null);}}});})();(function(){var b="calculator-button",a="showcase.page.theme.calc.view.Button";qx.Class.define(a,{extend:qx.ui.form.Button,construct:function(c,d,e,f,g,h){qx.ui.form.Button.call(this,c);this.set({rich:true,focusable:false,keepActive:true,allowShrinkX:false,allowShrinkY:false});this.setLayoutProperties({row:d,column:e,rowSpan:f||1,colSpan:g||1});this._keyIdentifier=h||null;},properties:{appearance:{refine:true,init:b}},members:{getKeyIdentifier:function(){return this._keyIdentifier;}}});})();
});